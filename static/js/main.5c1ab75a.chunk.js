(this["webpackJsonpaimag-intranet"]=this["webpackJsonpaimag-intranet"]||[]).push([[7],{110:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return p}));var r=n(62),a=n(136),o=n(137),c=n(140),i=n(5),u=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e,a){var o;return Object(r.a)(this,n),(o=t.call(this)).id=void 0,o.message=void 0,o.text=void 0,o.toString=function(){return"(".concat(o.id,") - ").concat(o.text)},o.id=e,o.text=a,o.name="ApplicationError",o.message=o.toString(),o}return n}(Object(c.a)(Error)),s=function(e){return void 0!==e.id&&void 0!==e.text},p=function(e){return new u(i.d.Unknown,e.toString())}},111:function(e,t){},13:function(e,t,n){"use strict";var r={home:{key:"home",url:"".concat("/digit-pwa","/"),private:!0},bills:{key:"bills",url:"".concat("/digit-pwa","/bollette"),private:!0},operations:{key:"operations",url:"".concat("/digit-pwa","/operazioni"),private:!0},supplies:{key:"supplies",url:"".concat("/digit-pwa","/forniture"),private:!0},supplyDetail:{key:"supplyDetail",url:"".concat("/digit-pwa","/forniture/:supplyId"),private:!0},consumptions:{key:"consumptions",url:"".concat("/digit-pwa","/consumi"),private:!0},login:{key:"login",url:"".concat("/digit-pwa","/login"),private:!1},register:{key:"register",url:"".concat("/digit-pwa","/registrazione"),private:!1},forgotPassword:{key:"forgot-password",url:"".concat("/digit-pwa","/recupera-password"),private:!1},confirmSignup:{key:"confirm-signup",url:"".concat("/digit-pwa","/valida-email"),private:!1},notFoundPage:{key:"error",url:"".concat("/digit-pwa","/error"),private:!1}};t.a=r},144:function(e,t,n){e.exports=n(232)},15:function(e,t,n){"use strict";var r,a,o,c;n.d(t,"d",(function(){return b})),n.d(t,"i",(function(){return m})),n.d(t,"g",(function(){return g})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return w})),n.d(t,"a",(function(){return O})),n.d(t,"f",(function(){return x})),n.d(t,"b",(function(){return E})),n.d(t,"h",(function(){return y})),function(e){e.Electric="light",e.Gas="gas",e.Dual="dual"}(r||(r={})),function(e){e.Digital="digital"}(a||(a={})),function(e){e[e.AutoReading=1]="AutoReading",e[e.ProviderReading=2]="ProviderReading"}(o||(o={})),function(e){e[e.All=0]="All",e[e.Last=1]="Last",e[e.Last3Months=2]="Last3Months",e[e.Last6Months=3]="Last6Months",e[e.LastYear=4]="LastYear"}(c||(c={}));var i=n(5),u=n(6),s=function(e){switch(e){case r.Electric:return i.c.Electric;case r.Dual:return i.c.Dual;case r.Gas:return i.c.Gas;default:throw new u.ApplicationError(i.d.Unknown,"Unknown EnergyType (".concat(e,")"))}},p=function(e){switch(e){case a.Digital:return i.g.Digital;default:throw new u.ApplicationError(i.d.Unknown,"Unknown InvoiceType (".concat(e,")"))}},d=function(e){switch(e){case o.AutoReading:return i.l.AutoReading;case o.ProviderReading:return i.l.ProviderReading;default:throw new u.ApplicationError(i.d.Unknown,"Unknown ReadingType (".concat(e,")"))}},f=function(e){return new Date(e)},l=function(e){switch(e){case"Power":return i.f.Electric;case"Gas":return i.f.Gas;case"Green":default:return i.f.Green}};function b(e){return e.map((function(e){var t;return{layout:e.layout,iconType:l(e.icon),link:e.link,linkText:e.linkText,image:{url:null===(t=e.image)||void 0===t?void 0:t.url},title:e.title,subtitle:e.subtitle,description:e.description}}))}function m(e){return e.map((function(e){return{nickname:e.nickname,id:e.id,type:s(e.type),status:e.status,productName:e.productName,address:e.address,invoiceType:p(e.invoiceType),pod:e.pod}}))}function g(e){return e.map((function(e){return{supplyId:e.supplyId,active:e.active,meteringEndDate:e.meteringEndDate}}))}function h(e){return{customerCode:e.customerCode,fiscalCode:e.fiscalCode,name:e.name,surname:e.surname,supplies:m(e.supplies)}}function w(e){return e}function v(e){return{consumption:e.consumption,energyService:e.energyService,tvLicence:e.tvLicence,invoiceId:e.invoiceId,invoiceNumber:e.invoiceNumber,pdf:e.pdf}}function O(e){return e.map((function(e){return{type:s(e.type),pdf:e.pdf,issued:e.issued,expiration:e.expiration,supplyId:e.supplyId,paymentMode:e.paymentMode,status:e.status,amount:e.amount,info:e.info,invoice:v(e.invoice)}}))}function x(e){return e.map((function(e){return{supplyId:e.supplyId,counterId:e.counterId,counterType:e.counterType,readingType:d(e.readingType),date:f(e.date),values:e.values,maxPowers:e.maxPowers}}))}function E(e){return e.map((function(e){return{supplyId:e.supplyId,date:f(e.date),values:e.values}}))}function y(e){return{header:e.header,banners:b(e.banners),helpCenter:e.helpCenter}}},17:function(e,t,n){"use strict";n.d(t,"w",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return i})),n.d(t,"j",(function(){return u})),n.d(t,"m",(function(){return s})),n.d(t,"o",(function(){return p})),n.d(t,"p",(function(){return d})),n.d(t,"l",(function(){return f})),n.d(t,"k",(function(){return l})),n.d(t,"n",(function(){return b})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return h})),n.d(t,"r",(function(){return w})),n.d(t,"s",(function(){return v})),n.d(t,"q",(function(){return O})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return E})),n.d(t,"e",(function(){return y})),n.d(t,"u",(function(){return j})),n.d(t,"v",(function(){return C})),n.d(t,"t",(function(){return k}));var r=n(7);function a(e){return{type:r.w,payload:e}}function o(){return{type:r.x,payload:null}}function c(){return{type:r.v,payload:null}}function i(e){return{type:r.g,payload:e}}function u(){return{type:r.h,payload:null}}function s(e){return{type:r.k,payload:e}}function p(e){return{type:r.m,payload:e}}function d(){return{type:r.n,payload:null}}function f(e){return{type:r.j,payload:e}}function l(e){return{type:r.i,payload:e}}function b(){return{type:r.l,payload:null}}function m(e){return{type:r.b,payload:e}}function g(){return{type:r.c,payload:null}}function h(e){return{type:r.a,payload:e}}function w(e){return{type:r.p,payload:e}}function v(e){return{type:r.q,payload:e}}function O(e){return{type:r.o,payload:e}}function x(e){return{type:r.e,payload:e}}function E(e){return{type:r.f,payload:e}}function y(e){return{type:r.d,payload:e}}function j(e){return{type:r.s,payload:e}}function C(e){return{type:r.t,payload:e}}function k(e){return{type:r.r,payload:e}}},18:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return w})),n.d(t,"c",(function(){return O})),n.d(t,"j",(function(){return E})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return k})),n.d(t,"i",(function(){return R})),n.d(t,"k",(function(){return A}));var r=n(3),a=n.n(r),o=n(19),c=n(20),i=n.n(c),u=n(6),s=n(27),p=function(){return{headers:{Authorization:"bearer ".concat(Object(s.a)())}}};function d(e){var t,n;return{status:(null===(t=e.response)||void 0===t?void 0:t.status)||500,data:(null===(n=e.response)||void 0===n?void 0:n.data)||{}}}function f(){return l.apply(this,arguments)}function l(){return(l=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.get(u.config.api.bootstrap()).then((function(e){return e.data})).catch((function(e){return d(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return m.apply(this,arguments)}function m(){return(m=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.get(u.config.api.customer(),p()).then((function(e){return e.data})).catch((function(e){return d(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return h.apply(this,arguments)}function h(){return(h=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.get(u.config.api.home(),p()).then((function(e){return e.data})).catch((function(e){return d(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.get(u.config.api.operations(),p()).then((function(e){return e.data})).catch((function(e){return d(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return x.apply(this,arguments)}function x(){return(x=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.get(u.config.api.bills(),p()).then((function(e){return e.data})).catch((function(e){return d(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return y.apply(this,arguments)}function y(){return(y=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.get(u.config.api.supplies(),p()).then((function(e){return e.data})).catch((function(e){return d(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return C.apply(this,arguments)}function C(){return(C=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.get(u.config.api.consumptions(),p()).then((function(e){return e.data})).catch((function(e){return d(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return P.apply(this,arguments)}function P(){return(P=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.post(u.config.api.consumptionsFiltered(),t,p()).then((function(e){return e.data})).catch((function(e){return d(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return S.apply(this,arguments)}function S(){return(S=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.post(u.config.api.readingsFiltered(),t,p()).then((function(e){return e.data})).catch((function(e){return d(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t){return T.apply(this,arguments)}function T(){return(T=Object(o.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.post(u.config.api.setSupply(),{supplyId:t.id,nickname:n},p()).then((function(e){return e})).catch((function(e){return d(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},232:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),o=n(55),c=n.n(o),i=n(56),u=n(36),s=n(49),p=n(27),d=n(13),f=function(e){var t=null!=Object(p.a)();return a.a.createElement(a.a.Fragment,null,t&&a.a.createElement(i.b,e),!t&&a.a.createElement(i.a,{to:d.a.login.url}))},l=n(6),b="".concat("app","/LOAD"),m="".concat("app","/LOADED"),g="".concat("app","/SET_ERROR"),h="".concat("app","/BOOTSTRAP");function w(e){var t=Object(l.isApplicationError)(e)?e:Object(l.toApplicationError)(e);return{type:g,payload:t}}var v=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(9)]).then(n.bind(null,1280))})),O=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(13)]).then(n.bind(null,1272))})),x=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(14)]).then(n.bind(null,1271))})),E=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(15)]).then(n.bind(null,1276))})),y=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(10)]).then(n.bind(null,1277))})),j=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(11)]).then(n.bind(null,1273))})),C=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(19)]).then(n.bind(null,1278))})),k=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(16)]).then(n.bind(null,1269))})),P=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(6),n.e(4),n.e(21)]).then(n.bind(null,1281))})),R=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(18)]).then(n.bind(null,1270))})),S=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(6),n.e(17)]).then(n.bind(null,1274))})),A=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(5),n.e(20)]).then(n.bind(null,1279))})),T=function(){var e=Object(u.d)();return Object(r.useEffect)((function(){e({type:b,payload:null})}),[]),a.a.createElement(i.d,null,a.a.createElement(f,{path:d.a.home.url,component:v,exact:!0}),a.a.createElement(f,{path:d.a.operations.url,component:O,exact:!0}),a.a.createElement(f,{path:d.a.bills.url,component:x,exact:!0}),a.a.createElement(f,{path:d.a.supplies.url,component:E,exact:!0}),a.a.createElement(f,{path:d.a.supplyDetail.url,component:y,exact:!0}),a.a.createElement(f,{path:d.a.consumptions.url,component:j,exact:!0}),a.a.createElement(i.b,{path:d.a.login.url,component:C}),a.a.createElement(i.b,{path:d.a.register.url,component:k}),a.a.createElement(i.b,{path:d.a.forgotPassword.url,component:R}),a.a.createElement(i.b,{path:d.a.confirmSignup.url,component:S}),a.a.createElement(i.b,{path:d.a.notFoundPage.url,component:P}),a.a.createElement(i.b,{path:"/test",component:A}),a.a.createElement(i.a,{to:d.a.notFoundPage.url}))},_=n(38),U=n(66),F=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function I(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var N,D,M=n(26),L=n(33),G=n(122),q=n(139),H=n(21),z=n(10),W=n(15),Q={error:null,footer:null,callcentre:null,news:null},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(z.a)(e,(function(e){var n=t.payload;return e.error=n,e}));case h:return Object(z.a)(e,(function(e){var n=t.payload;return e.callcentre=n.callcentre,e.news=W.d(n.news),e.footer=n.footer,e}));default:return e}},K=n(14),Y=n(7),J={username:null,token:null,sessionExpired:null,registration:null,confirmation:null,resendConfirmation:null,forgotPassword:null,resetPassword:null},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y.w:return Object(z.a)(e,(function(e){var n=t.payload;return e.username=n.username,e.token=n.token,e.sessionExpired=n.sessionExpired,e}));case Y.x:return Object(z.a)(e,(function(e){return e.username=null,e.token=null,e}));case Y.k:return Object(z.a)(e,(function(e){return e.registration={registered:!1,pendingMoreData:!1,error:null},e}));case Y.n:return Object(z.a)(e,(function(e){return e.registration={registered:!0,pendingMoreData:!1},e}));case Y.j:return Object(z.a)(e,(function(e){var n=t.payload;return e.registration=Object(K.a)(Object(K.a)({},e.registration),{},{pendingMoreData:n}),e}));case Y.i:return Object(z.a)(e,(function(e){var n=t.payload;return e.registration.error=n,e}));case Y.l:return Object(z.a)(e,(function(e){return e.registration=null,e}));case Y.b:return Object(z.a)(e,(function(e){var n=t.payload;return e.confirmation=n,e}));case Y.c:return Object(z.a)(e,(function(e){var n=t.payload;return e.confirmation=n,e}));case Y.a:return Object(z.a)(e,(function(e){var n=t.payload;return e.confirmation.error=n,e}));case Y.p:return Object(z.a)(e,(function(e){var n=t.payload;return e.resendConfirmation={sent:!1,username:n},e}));case Y.q:return Object(z.a)(e,(function(e){var n=t.payload;return e.resendConfirmation=n,e}));case Y.o:return Object(z.a)(e,(function(e){var n=t.payload;return e.resendConfirmation.error=n,e}));case Y.e:return Object(z.a)(e,(function(e){var n=t.payload;return e.forgotPassword={sent:!1,username:n},e}));case Y.f:return Object(z.a)(e,(function(e){var n=t.payload;return e.forgotPassword=n,e}));case Y.d:return Object(z.a)(e,(function(e){var n=t.payload;return e.forgotPassword.error=n,e}));case Y.s:return Object(z.a)(e,(function(e){var n=t.payload;return e.resetPassword=Object(K.a)(Object(K.a)({},n),{},{changed:!1,error:null}),e}));case Y.t:return Object(z.a)(e,(function(e){var n=t.payload;return e.resetPassword.changed=n,e}));case Y.r:return Object(z.a)(e,(function(e){var n=t.payload;return e.resetPassword.error=n,e}));default:return e}},$="".concat("operations","/FETCH_REQUEST"),X="".concat("operations","/FETCH_SUCCESS"),Z=[],ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:var n=t.payload;return n;default:return e}},te=n(28),ne={name:null,surname:null,customerCode:null,fiscalCode:null,supplies:[]},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.b:var n=t.payload;return n;default:return e}},ae="".concat("bills","/FETCH_REQUEST"),oe="".concat("bills","/FETCH_SUCCESS"),ce=[],ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:var n=t.payload;return n;default:return e}},ue="".concat("consumptions","/FETCH_REQUEST"),se="".concat("consumptions","/FETCH_SUCCESS"),pe=[],de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se:var n=t.payload;return n;default:return e}},fe="".concat("readings","/FETCH_REQUEST"),le="".concat("readings","/FETCH_SUCCESS"),be=[],me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:var n=t.payload;return n;default:return e}},ge="".concat("supplies","/FETCH_REQUEST"),he="".concat("supplies","/FETCH_SUCCESS"),we=[],ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:var n=t.payload;return n;default:return e}},Oe=("".concat("selfMetering","/FETCH_REQUEST"),"".concat("selfMetering","/FETCH_SUCCESS")),xe=[],Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:var n=t.payload;return n;default:return e}},ye=n(29),je={},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye.b:return Object(z.a)(e,(function(e){var n=t,r=n.route,a=n.payload;return e[r.key]={banners:a.banners,header:a.header,helpCenter:a.helpCenter},e}));default:return e}},ke=n(73),Pe="".concat("events","/START_LOADING"),Re="".concat("events","/STOP_LOADING"),Se="".concat("events","/START_REFRESHING"),Ae="".concat("events","/STOP_REFRESHING"),Te={loading:[],refreshing:[]},_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe:return Object(z.a)(e,(function(e){return e.loading=[].concat(Object(ke.a)(e.loading),[t.payload]),e}));case Re:return Object(z.a)(e,(function(e){return e.loading=e.loading.filter((function(e){return e!==t.payload})),e}));case Se:return Object(z.a)(e,(function(e){return e.refreshing=[].concat(Object(ke.a)(e.refreshing),[t.payload]),e}));case Ae:return Object(z.a)(e,(function(e){return e.refreshing=e.refreshing.filter((function(e){return e!==t.payload})),e}));default:return e}},Ue=Object(M.c)((N={},Object(H.a)(N,te.c,re),Object(H.a)(N,"operations",ee),Object(H.a)(N,"bills",ie),Object(H.a)(N,"consumptions",de),Object(H.a)(N,"readings",me),Object(H.a)(N,"supplies",ve),Object(H.a)(N,"selfMetering",Ee),N)),Fe=Object(M.c)((D={},Object(H.a)(D,"app",B),Object(H.a)(D,Y.u,V),Object(H.a)(D,ye.c,Ce),Object(H.a)(D,"events",_e),Object(H.a)(D,"data",Ue),D)),Ie=n(3),Ne=n.n(Ie),De=n(1),Me=n(18);function Le(e){return{type:Pe,payload:e}}function Ge(e){return{type:Re,payload:e}}var qe=n(5),He=n(30),ze=n.n(He),We=n(17),Qe=n(58),Be=Ne.a.mark($e),Ke=Ne.a.mark(Xe),Ye=Ne.a.mark(Ze),Je=ze()("Aimag"),Ve=function(e){return e.root.user};function $e(){var e,t;return Ne.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(De.b)(Me.a);case 2:if(!(e=n.sent).status){n.next=5;break}throw new l.ApplicationError(qe.d.BootstrapFailed,"Bootstrap feed not valid");case 5:return t=e,n.next=8,Object(De.c)({type:h,payload:t});case 8:case"end":return n.stop()}}),Be)}function Xe(){return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(De.c)(Le(b));case 3:return e.next=5,Object(De.b)($e);case 5:return e.next=7,Object(De.d)(Ve);case 7:if(!e.sent.sessionExpired){e.next=13;break}return e.next=11,Object(De.a)([Object(De.c)(Object(We.h)()),Object(De.c)(Object(Qe.a)())]);case 11:e.next=15;break;case 13:return e.next=15,Object(De.c)(Object(We.h)());case 15:return e.next=17,Object(De.c)({type:m,payload:null});case 17:e.next=24;break;case 19:return e.prev=19,e.t0=e.catch(0),Je("InitApplication Error",e.t0),e.next=24,Object(De.c)(w(e.t0));case 24:return e.prev=24,e.next=27,Object(De.c)(Ge(b));case 27:return e.finish(24);case 28:case"end":return e.stop()}}),Ke,null,[[0,19,24,28]])}function Ze(){return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(De.a)([Object(De.e)(b,Xe)]);case 2:case"end":return e.stop()}}),Ye)}var et=Ze,tt=n(22),nt=Ne.a.mark(ct),rt=Ne.a.mark(it),at=ze()("Aimag"),ot=function(e){return e.root.user};function ct(){var e,t;return Ne.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(De.c)(Le(te.a));case 3:return n.next=5,Object(De.d)(ot);case 5:if(n.sent.sessionExpired){n.next=18;break}return n.next=9,Object(De.b)(Me.f);case 9:if(!(e=n.sent).status){n.next=15;break}if(401!==e.status){n.next=14;break}return n.next=14,Object(De.c)(Object(tt.d)("/login"));case 14:throw new l.ApplicationError(qe.d.Api,"fetch Customer failed");case 15:return t=W.c(e),n.next=18,Object(De.c)(Qe.b(t));case 18:n.next=26;break;case 20:return n.prev=20,n.t0=n.catch(0),at("Error",n.t0),at("fetchCustomer error",n.t0),n.next=26,Object(De.c)(w(n.t0));case 26:return n.prev=26,n.next=29,Object(De.c)(Ge(te.a));case 29:return n.finish(26);case 30:case"end":return n.stop()}}),nt,null,[[0,20,26,30]])}function it(){return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(De.e)(te.a,ct);case 2:return e.next=4,Object(De.e)(Y.w,ct);case 4:case"end":return e.stop()}}),rt)}var ut=it,st=Ne.a.mark(dt),pt=Ne.a.mark(ft);function dt(){return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),st)}function ft(){return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(De.a)([Object(De.e)($,dt)]);case 2:case"end":return e.stop()}}),pt)}var lt=ft,bt=Ne.a.mark(gt),mt=Ne.a.mark(ht);function gt(){return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),bt)}function ht(){return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(De.a)([Object(De.e)(ae,gt)]);case 2:case"end":return e.stop()}}),mt)}var wt=ht;function vt(e){return{type:se,payload:e}}var Ot=Ne.a.mark(Et),xt=Ne.a.mark(yt);function Et(e){var t,n,r,a;return Ne.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,o.next=3,Object(De.b)(Me.e,t);case 3:if(!(n=o.sent).status){o.next=6;break}throw new l.ApplicationError(qe.d.Api,"fetch Consumptions Filtered failed");case 6:return r=n.consumptions,a=W.b(r),o.next=11,Object(De.c)(vt(a));case 11:case"end":return o.stop()}}),Ot)}function yt(){return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(De.a)([Object(De.e)(ue,Et)]);case 2:case"end":return e.stop()}}),xt)}var jt=yt;function Ct(e){return{type:le,payload:e}}var kt=Ne.a.mark(Rt),Pt=Ne.a.mark(St);function Rt(e){var t,n,r,a;return Ne.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,o.next=3,Object(De.b)(Me.e,t);case 3:if(!(n=o.sent).status){o.next=6;break}throw new l.ApplicationError(qe.d.Api,"fetch Reading Filtered failed");case 6:return r=n.readings,a=W.f(r),o.next=11,Object(De.c)(Ct(a));case 11:case"end":return o.stop()}}),kt)}function St(){return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(De.a)([Object(De.e)(fe,Rt)]);case 2:case"end":return e.stop()}}),Pt)}var At=St,Tt=Ne.a.mark(Ut),_t=Ne.a.mark(Ft);function Ut(){return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),Tt)}function Ft(){return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(De.a)([Object(De.e)(ge,Ut)]);case 2:case"end":return e.stop()}}),_t)}var It=Ft,Nt=n(19),Dt=n(20),Mt=n.n(Dt),Lt=n(234),Gt=ze()("Aimag:api");function qt(e,t){return Ht.apply(this,arguments)}function Ht(){return(Ht=Object(Nt.a)(Ne.a.mark((function e(t,n){return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){Lt.a.signIn(t,n).then((function(t){Gt("user logged in",t),e({username:t.getUsername(),token:t.signInUserSession.idToken.jwtToken,sessionExpired:!1})})).catch((function(e){if(Gt("error logging in",e),"NotAuthorizedException"!==e.code&&"UserNotConfirmedException"!==e.code)throw new Error("Api Login Error");r({id:qe.d.Login,text:e.message})}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zt(){return Wt.apply(this,arguments)}function Wt(){return(Wt=Object(Nt.a)(Ne.a.mark((function e(){return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){Lt.a.signOut().then((function(){Gt("user logged out"),e()})).catch((function(e){throw Gt("error logging out",e),new Error("Api Logout Error")}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qt(e){return Bt.apply(this,arguments)}function Bt(){return(Bt=Object(Nt.a)(Ne.a.mark((function e(t){return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mt.a.post(l.config.api.register(),t).then((function(e){return e.data})).catch((function(e){return Object(Me.b)(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kt(e){return Yt.apply(this,arguments)}function Yt(){return(Yt=Object(Nt.a)(Ne.a.mark((function e(t){return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mt.a.post(l.config.api.register(),t).then((function(e){return e.data})).catch((function(e){return Object(Me.b)(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jt(e){return Vt.apply(this,arguments)}function Vt(){return(Vt=Object(Nt.a)(Ne.a.mark((function e(t){return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mt.a.post(l.config.api.confirmUser(),t).then((function(e){return e.data})).catch((function(e){return Object(Me.b)(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $t(e){return Xt.apply(this,arguments)}function Xt(){return(Xt=Object(Nt.a)(Ne.a.mark((function e(t){return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mt.a.post(l.config.api.resendConfirmationCode(),{username:t}).then((function(e){return e.data})).catch((function(e){return Object(Me.b)(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zt(e){return en.apply(this,arguments)}function en(){return(en=Object(Nt.a)(Ne.a.mark((function e(t){return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mt.a.post(l.config.api.forgotPassword(),{username:t}).then((function(e){return e.data})).catch((function(e){return Object(Me.b)(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tn(e){return nn.apply(this,arguments)}function nn(){return(nn=Object(Nt.a)(Ne.a.mark((function e(t){return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mt.a.post(l.config.api.confirmForgotPassword(),Object(K.a)({},t)).then((function(e){return e.data})).catch((function(e){return Object(Me.b)(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rn=Ne.a.mark(On),an=Ne.a.mark(xn),on=Ne.a.mark(En),cn=Ne.a.mark(yn),un=Ne.a.mark(jn),sn=Ne.a.mark(Cn),pn=Ne.a.mark(kn),dn=Ne.a.mark(Pn),fn=Ne.a.mark(Rn),ln=Ne.a.mark(Sn),bn=Ne.a.mark(An),mn=ze()("Aimag:saga"),gn=function(e){var t=e.data;if(t)switch(t.code){case qe.b.ExpiredCodeException:return new l.ApplicationError(qe.d.ConfirmSignupExpiredCode,t.message);case qe.b.CodeMismatchException:return new l.ApplicationError(qe.d.ConfirmSignupCodeMismatch,t.message);case qe.b.UserNotFoundException:return new l.ApplicationError(qe.d.ConfirmSignupUserNotFound,t.message);default:return new l.ApplicationError(qe.d.ConfirmSignup,t.message)}return new l.ApplicationError(qe.d.ConfirmSignup,e.data.message)},hn=function(e){var t=e.data;if(t)switch(t.code){case qe.b.UserNotFoundException:return new l.ApplicationError(qe.d.ResendConfirmationCodeUserNotFound,t.message);case qe.b.CodeDeliveryFailureException:return new l.ApplicationError(qe.d.ResendConfirmationCodeCodeDeliveryFailure,t.message);default:return new l.ApplicationError(qe.d.ResendConfirmationCode,t.message)}return new l.ApplicationError(qe.d.ConfirmSignup,e.data.message)},wn=function(e){var t=e.data;if(t)switch(t.code){case qe.b.UserNotFoundException:return new l.ApplicationError(qe.d.ForgotPasswordUserNotFound,t.message);case qe.b.CodeDeliveryFailureException:return new l.ApplicationError(qe.d.ForgotPasswordCodeDeliveryFailure,t.message);case qe.b.UserNotConfirmedException:return new l.ApplicationError(qe.d.ForgotPasswordUserNotConfirmed,t.message);case qe.b.InvalidParameterException:return new l.ApplicationError(qe.d.ForgotPasswordInvalidParameter,t.message);default:return new l.ApplicationError(qe.d.ForgotPassword,t.message)}return new l.ApplicationError(qe.d.ForgotPassword,e.data.message)},vn=function(e){var t=e.data;if(t)switch(t.code){case qe.b.CodeMismatchException:return new l.ApplicationError(qe.d.ResetPasswordCodeMismatch,t.message);case qe.b.ExpiredCodeException:return new l.ApplicationError(qe.d.ResetPasswordExpiredCode,t.message);case qe.b.InvalidPasswordException:return new l.ApplicationError(qe.d.ResetPasswordInvalidPassword,t.message);case qe.b.UserNotFoundException:return new l.ApplicationError(qe.d.ResetPasswordUserNotFound,t.message);case qe.b.TooManyFailedAttemptsException:return new l.ApplicationError(qe.d.ResetPasswordTooManyFailedAttempts,t.message);case qe.b.UserNotConfirmedException:return new l.ApplicationError(qe.d.ResetPasswordUserNotConfirmed,t.message);case qe.b.InvalidParameterException:return new l.ApplicationError(qe.d.ResetPasswordInvalidParameter,t.message);default:return new l.ApplicationError(qe.d.ResetPassword,t.message)}return new l.ApplicationError(qe.d.ResetPassword,e.data.message)};function On(){var e;return Ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(De.b)(p.c);case 3:if(!(e=t.sent)){t.next=11;break}if(!e.sessionExpired){t.next=9;break}mn("loadUser","user session expired"),t.next=11;break;case 9:return t.next=11,Object(De.c)(We.w(e));case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(0),t.next=17,Object(De.c)(We.w({token:"",username:"",sessionExpired:!0}));case 17:case"end":return t.stop()}}),rn,null,[[0,13]])}function xn(){return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.f(),e.next=3,null;case 3:case"end":return e.stop()}}),an)}function En(e){var t,n,r,a;return Ne.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t=e.payload,n=t.username,r=t.password,o.next=4,Object(De.b)(qt,n,r);case 4:return o.next=6,Object(De.b)(p.b);case 6:return a=o.sent,p.g(a.token),o.next=10,Object(De.c)(We.w(a));case 10:return mn("User set"),o.next=13,Object(De.c)(Object(tt.d)("/"));case 13:o.next=20;break;case 15:return o.prev=15,o.t0=o.catch(0),mn("LoginRequest Error",o.t0),o.next=20,Object(De.c)(w(o.t0));case 20:case"end":return o.stop()}}),on,null,[[0,15]])}function yn(e){return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(De.b)(zt);case 3:return p.f(),e.next=6,Object(De.c)(We.a());case 6:return e.next=8,Object(De.c)(Object(tt.d)("/login"));case 8:e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(0),mn("LogoutRequest Error",e.t0),e.next=15,Object(De.c)(w(e.t0));case 15:case"end":return e.stop()}}),cn,null,[[0,10]])}function jn(e){var t,n,r;return Ne.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,a.next=4,Object(De.c)(Le(Y.k));case 4:return n=p.e(t),a.next=7,Object(De.b)(Qt,n);case 7:if(!(r=a.sent).status){a.next=13;break}if(mn("Response",r,r),!r.data||!r.data.message&&!r.data.error){a.next=12;break}throw new l.ApplicationError(qe.d.Register,r.data.message||r.data.error);case 12:throw new l.ApplicationError(qe.d.Api,"API Error: register");case 13:if(!r||r.result!==qe.q.Created){a.next=18;break}return a.next=16,Object(De.c)(We.p());case 16:a.next=21;break;case 18:if(!r||r.result!==qe.q.PendingMoreData){a.next=21;break}return a.next=21,Object(De.c)(We.l(!0));case 21:a.next=28;break;case 23:return a.prev=23,a.t0=a.catch(0),mn("RegisterRequest Error",a.t0),a.next=28,Object(De.c)(We.k(a.t0));case 28:return a.prev=28,a.next=31,Object(De.c)(Ge(Y.k));case 31:return a.finish(28);case 32:case"end":return a.stop()}}),un,null,[[0,23,28,32]])}function Cn(e){var t,n,r;return Ne.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,a.next=4,Object(De.c)(Le(Y.m));case 4:return n=p.d(t),a.next=7,Object(De.b)(Kt,n);case 7:if(!(r=a.sent).status){a.next=13;break}if(mn("Response",r,r),!r.data||!r.data.message&&!r.data.error){a.next=12;break}throw new l.ApplicationError(qe.d.Register,r.data.message||r.data.error);case 12:throw new l.ApplicationError(qe.d.Api,"API Error: register second step");case 13:if(!r||r.result!==qe.q.Created){a.next=16;break}return a.next=16,Object(De.c)(We.p());case 16:a.next=23;break;case 18:return a.prev=18,a.t0=a.catch(0),mn("RegisterRequest Error",a.t0),a.next=23,Object(De.c)(We.k(a.t0));case 23:return a.prev=23,a.next=26,Object(De.c)(Ge(Y.m));case 26:return a.finish(23);case 27:case"end":return a.stop()}}),sn,null,[[0,18,23,27]])}function kn(e){var t,n;return Ne.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,(t=e.payload).username&&t.confirmationCode){r.next=4;break}throw new l.ApplicationError(qe.d.ConfirmSignup,"Missing query parameters");case 4:return r.next=6,Object(De.c)(Le(Y.b));case 6:return r.next=8,Object(De.b)(Jt,t);case 8:if(!(n=r.sent).status){r.next=14;break}if(mn("Response",n,n),!n.data||!n.data.message&&!n.data.error){r.next=13;break}throw gn(n);case 13:throw new l.ApplicationError(qe.d.Api,"API Error: confirm user");case 14:if(!n||n.result!==qe.p.Confirmed&&n.result!==qe.p.AlreadyConfirmed){r.next=17;break}return r.next=17,Object(De.c)(We.d());case 17:r.next=24;break;case 19:return r.prev=19,r.t0=r.catch(0),mn("ConfirmUserRequest Error",r.t0),r.next=24,Object(De.c)(We.b(r.t0));case 24:return r.prev=24,r.next=27,Object(De.c)(Ge(Y.b));case 27:return r.finish(24);case 28:case"end":return r.stop()}}),pn,null,[[0,19,24,28]])}function Pn(e){var t,n;return Ne.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.payload,r.next=4,Object(De.c)(Le(Y.p));case 4:return r.next=6,Object(De.b)($t,t);case 6:if(!(n=r.sent).status){r.next=12;break}if(mn("Response",n,n),!n.data||!n.data.message){r.next=11;break}throw hn(n);case 11:throw new l.ApplicationError(qe.d.Api,"API Error: resend confirmation code");case 12:if(!n||n.result!==qe.m.CodeSent&&n.result!==qe.m.AlreadyConfirmed){r.next=15;break}return r.next=15,Object(De.c)(We.s({username:t,sent:!0}));case 15:r.next=22;break;case 17:return r.prev=17,r.t0=r.catch(0),mn("resendConfirmationCodeRequest Error",r.t0),r.next=22,Object(De.c)(We.q(r.t0));case 22:return r.prev=22,r.next=25,Object(De.c)(Ge(Y.p));case 25:return r.finish(22);case 26:case"end":return r.stop()}}),dn,null,[[0,17,22,26]])}function Rn(e){var t,n;return Ne.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.payload,r.next=4,Object(De.c)(Le(Y.e));case 4:return r.next=6,Object(De.b)(Zt,t);case 6:if(!(n=r.sent).status){r.next=12;break}if(mn("Response",n,n),!n.data||!n.data.message){r.next=11;break}throw wn(n);case 11:throw new l.ApplicationError(qe.d.Api,"API Error: forgot password");case 12:if(!n||n.result!==qe.e.CodeSent){r.next=15;break}return r.next=15,Object(De.c)(We.g({username:t,sent:!0}));case 15:r.next=22;break;case 17:return r.prev=17,r.t0=r.catch(0),mn("forgotPasswordRequest Error",r.t0),r.next=22,Object(De.c)(We.e(r.t0));case 22:return r.prev=22,r.next=25,Object(De.c)(Ge(Y.e));case 25:return r.finish(22);case 26:case"end":return r.stop()}}),fn,null,[[0,17,22,26]])}function Sn(e){var t,n;return Ne.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.payload,r.next=4,Object(De.c)(Le(Y.s));case 4:return r.next=6,Object(De.b)(tn,t);case 6:if(!(n=r.sent).status){r.next=12;break}if(mn("Response",n,n),!n.data||!n.data.message){r.next=11;break}throw vn(n);case 11:throw new l.ApplicationError(qe.d.Api,"API Error: reset password");case 12:if(!n||n.result!==qe.n.PasswordChanged){r.next=15;break}return r.next=15,Object(De.c)(We.v(!0));case 15:r.next=22;break;case 17:return r.prev=17,r.t0=r.catch(0),mn("resetPasswordRequest Error",r.t0),r.next=22,Object(De.c)(We.t(r.t0));case 22:return r.prev=22,r.next=25,Object(De.c)(Ge(Y.s));case 25:return r.finish(22);case 26:case"end":return r.stop()}}),ln,null,[[0,17,22,26]])}function An(){return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(De.a)([Object(De.e)(Y.v,On),Object(De.e)(Y.x,xn),Object(De.e)(Y.g,En),Object(De.e)(Y.h,yn),Object(De.e)(Y.k,jn),Object(De.e)(Y.m,Cn),Object(De.e)(Y.b,kn),Object(De.e)(Y.p,Pn),Object(De.e)(Y.e,Rn),Object(De.e)(Y.s,Sn)]);case 2:case"end":return e.stop()}}),bn)}var Tn=An;function _n(e){return{type:X,payload:e}}function Un(e){return{type:oe,payload:e}}function Fn(e){return{type:he,payload:e}}function In(e){return{type:Oe,payload:e}}var Nn=n(41),Dn=Ne.a.mark(Qn),Mn=Ne.a.mark(Bn),Ln=Ne.a.mark(Kn),Gn=Ne.a.mark(Yn),qn=Ne.a.mark(Jn),Hn=Ne.a.mark(Vn),zn=Ne.a.mark($n),Wn=ze()("Aimag");function Qn(){var e,t,n,r,a,o,c,i;return Ne.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return e=d.a.home,u.next=3,Object(De.b)(Me.g);case 3:if(!(t=u.sent).status){u.next=9;break}if(401!=t.status){u.next=8;break}return u.next=8,Object(De.c)(Object(tt.d)("/login"));case 8:throw new l.ApplicationError(qe.d.Api,"fetch Home failed");case 9:return n=t.data,r=n.bills,n.supplies,a=n.selfMetering,o=W.a(r),c=W.g(a),u.next=15,Object(De.a)([Object(De.c)(Un(o)),Object(De.c)(In(c))]);case 15:return i=W.h(t),u.next=18,Object(De.c)(Nn.b(e,i));case 18:case"end":return u.stop()}}),Dn)}function Bn(){var e,t,n,r,a,o,c,i,u,s;return Ne.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return e=d.a.operations,p.next=3,Object(De.b)(Me.h);case 3:if(!(t=p.sent).status){p.next=9;break}if(401!=t.status){p.next=8;break}return p.next=8,Object(De.c)(Object(tt.d)("/login"));case 8:throw new l.ApplicationError(qe.d.Api,"fetch Operations failed");case 9:return n=t.data,r=n.supplies,a=n.operations,o=n.readings,c=W.i(r),i=W.e(a),u=W.f(o),p.next=16,Object(De.a)([Object(De.c)(Fn(c)),Object(De.c)(_n(i)),Object(De.c)(Ct(u))]);case 16:return s=W.h(t),p.next=19,Object(De.c)(Nn.b(e,s));case 19:case"end":return p.stop()}}),Mn)}function Kn(){var e,t,n,r,a;return Ne.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return e=d.a.bills,o.next=3,Object(De.b)(Me.c);case 3:if(!(t=o.sent).status){o.next=9;break}if(401!=t.status){o.next=8;break}return o.next=8,Object(De.c)(Object(tt.d)("/login"));case 8:throw new l.ApplicationError(qe.d.Api,"fetch Bills failed");case 9:return n=t.data,r=W.a(n.bills),o.next=13,Object(De.c)(Un(r));case 13:return a=W.h(t),o.next=16,Object(De.c)(Nn.b(e,a));case 16:case"end":return o.stop()}}),Ln)}function Yn(){var e,t,n;return Ne.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=d.a.supplies,r.next=3,Object(De.b)(Me.j);case 3:if(!(t=r.sent).status){r.next=9;break}if(401!=t.status){r.next=8;break}return r.next=8,Object(De.c)(Object(tt.d)("/login"));case 8:throw new l.ApplicationError(qe.d.Api,"fetch Supplies failed");case 9:return t.data,n=W.h(t),r.next=13,Object(De.c)(Nn.b(e,n));case 13:case"end":return r.stop()}}),Gn)}function Jn(){var e,t,n,r,a,o,c,i;return Ne.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return e=d.a.consumptions,u.next=3,Object(De.b)(Me.d);case 3:if(!(t=u.sent).status){u.next=9;break}if(401!=t.status){u.next=8;break}return u.next=8,Object(De.c)(Object(tt.d)("/login"));case 8:throw new l.ApplicationError(qe.d.Api,"fetch Consumptions failed");case 9:return n=t.data,r=n.readings,a=n.consumptions,o=W.f(r),c=W.b(a),u.next=15,Object(De.a)([Object(De.c)(Ct(o)),Object(De.c)(vt(c))]);case 15:return i=W.h(t),u.next=18,Object(De.c)(Nn.b(e,i));case 18:case"end":return u.stop()}}),qn)}function Vn(e){var t;return Ne.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(De.c)(Le(ye.a));case 3:t=e.route,n.t0=t.key,n.next=n.t0===d.a.home.key?7:n.t0===d.a.operations.key?10:n.t0===d.a.bills.key?13:n.t0===d.a.supplies.key?16:n.t0===d.a.consumptions.key?19:22;break;case 7:return n.next=9,Object(De.b)(Qn);case 9:return n.abrupt("break",23);case 10:return n.next=12,Object(De.b)(Bn);case 12:return n.abrupt("break",23);case 13:return n.next=15,Object(De.b)(Kn);case 15:return n.abrupt("break",23);case 16:return n.next=18,Object(De.b)(Yn);case 18:return n.abrupt("break",23);case 19:return n.next=21,Object(De.b)(Jn);case 21:return n.abrupt("break",23);case 22:throw new l.ApplicationError(qe.d.PageUndefined,"fetch for route key=".concat(t.key," is undefined"));case 23:n.next=31;break;case 25:return n.prev=25,n.t1=n.catch(0),Wn("Error",n.t1),Wn("fetchStepDetail error",n.t1),n.next=31,Object(De.c)(w(n.t1));case 31:return n.prev=31,n.next=34,Object(De.c)(Ge(ye.a));case 34:return n.finish(31);case 35:case"end":return n.stop()}}),Hn,null,[[0,25,31,35]])}function $n(){return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(De.a)([Object(De.e)(ye.a,Vn)]);case 2:case"end":return e.stop()}}),zn)}var Xn=$n,Zn=Ne.a.mark(er);function er(){return Ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(De.a)([et(),ut(),lt(),wt(),jt(),At(),Xn(),It(),Tn()]);case 2:case"end":return e.stop()}}),Zn)}var tr=Object(L.a)(),nr=function(e){var t=Object(q.a)(),n=M.d,r=Object(M.c)({router:Object(_.b)(e),root:Fe}),a=n(Object(M.a)(Object(G.a)(e),t)),o=Object(M.e)(r,a);return t.run(er),o},rr=n(69),ar=nr(tr);Object(s.a)().then((function(){l.config.setLanguage(U.a.language),rr.a.configure(l.config.awsConfig),c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(u.a,{store:ar},a.a.createElement(r.Suspense,{fallback:""},a.a.createElement(_.a,{history:tr},a.a.createElement(T,null))))),document.getElementById("root"))})),function(e){if("serviceWorker"in navigator){if(new URL("/digit-pwa",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/digit-pwa","/service-worker.js");F?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):I(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):I(t,e)}))}}()},27:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return p})),n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return m}));var r=n(14),a=n(234),o=window,c=o.localStorage,i=o.sessionStorage;function u(){return new Promise((function(e,t){a.a.currentAuthenticatedUser({bypassCache:!1}).then((function(n){var r,a=n.attributes,o=n.signInUserSession;if(o){var c=o.idToken;if(c){var i=c.payload,u=(r=i.exp,Date.now()>=1e3*r);e({token:c.getJwtToken(),username:a.name||a.email,sessionExpired:u})}}t("Missing token properties")})).catch((function(e){t(e)}))}))}function s(){return u()}function p(){var e=c.getItem("AUTH_TOKEN");return e||(e=i.getItem("AUTH_TOKEN")),e}function d(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t?c.setItem("AUTH_TOKEN",e):i.setItem("AUTH_TOKEN",e)}function f(){c.removeItem("AUTH_TOKEN"),i.removeItem("AUTH_TOKEN")}function l(){return u()}function b(e){var t={email:e.email,password:e.password,hasPendingData:!1,isCompany:e.isCompany};return e.isCompany?Object(r.a)(Object(r.a)({},t),{},{privatePerson:null,company:{vat:e.vat,businessName:e.businessName}}):Object(r.a)(Object(r.a)({},t),{},{privatePerson:{fiscalCode:e.fiscalCode},company:null})}function m(e){var t=b(e);return e.isCompany?Object(r.a)(Object(r.a)({},t),{},{hasPendingData:!0,company:Object(r.a)(Object(r.a)({},t.company),{},{contactPerson:{name:e.name,surname:e.surname,phone:e.phone}}),privatePerson:null}):Object(r.a)(Object(r.a)({},t),{},{hasPendingData:!0,privatePerson:Object(r.a)(Object(r.a)({},t.privatePerson),{},{name:e.name,surname:e.surname,phone:e.phone}),company:null})}},28:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r="customer",a="".concat(r,"/FETCH_REQUEST"),o="".concat(r,"/FETCH_SUCCESS")},29:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r="pages",a="".concat(r,"/PAGE_FETCH_REQUEST"),o="".concat(r,"/PAGE_FETCH_SUCCESS")},41:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(29);function a(e){return{type:r.a,route:e,payload:null}}function o(e,t){return{type:r.b,route:e,payload:t}}},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(66),a=n(154),o=n(138),c=n(125),i={loadPath:n(60).a.api.vocabulary(),allowMultiLoading:!1,crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"},reloadInterval:!1};function u(){return r.a.use(o.a).use(c.a).use(a.f).init({fallbackLng:"it",supportedLngs:["it"],backend:i,debug:!0,interpolation:{escapeValue:!1}})}},5:function(e,t,n){"use strict";var r,a,o,c,i,u,s,p,d,f,l,b,m,g,h,w,v,O,x,E,y;n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return p})),n.d(t,"l",(function(){return d})),n.d(t,"k",(function(){return f})),n.d(t,"f",(function(){return l})),n.d(t,"j",(function(){return b})),n.d(t,"o",(function(){return m})),n.d(t,"r",(function(){return h})),n.d(t,"b",(function(){return w})),n.d(t,"q",(function(){return v})),n.d(t,"p",(function(){return O})),n.d(t,"m",(function(){return x})),n.d(t,"e",(function(){return E})),n.d(t,"n",(function(){return y})),function(e){e[e.None=0]="None",e[e.Requesting=1]="Requesting",e[e.Success=2]="Success",e[e.Error=3]="Error"}(r||(r={})),function(e){e[e.Unknown=0]="Unknown",e[e.Api=1]="Api",e[e.Parameters=3]="Parameters",e[e.PageUndefined=4]="PageUndefined",e[e.BootstrapFailed=101]="BootstrapFailed",e[e.Login=102]="Login",e[e.Register=103]="Register",e[e.ConfirmSignup=150]="ConfirmSignup",e[e.ConfirmSignupUserNotFound=151]="ConfirmSignupUserNotFound",e[e.ConfirmSignupCodeMismatch=152]="ConfirmSignupCodeMismatch",e[e.ConfirmSignupExpiredCode=153]="ConfirmSignupExpiredCode",e[e.ResendConfirmationCode=160]="ResendConfirmationCode",e[e.ResendConfirmationCodeUserNotFound=161]="ResendConfirmationCodeUserNotFound",e[e.ResendConfirmationCodeCodeDeliveryFailure=162]="ResendConfirmationCodeCodeDeliveryFailure",e[e.ForgotPassword=170]="ForgotPassword",e[e.ForgotPasswordUserNotFound=171]="ForgotPasswordUserNotFound",e[e.ForgotPasswordCodeDeliveryFailure=172]="ForgotPasswordCodeDeliveryFailure",e[e.ForgotPasswordUserNotConfirmed=173]="ForgotPasswordUserNotConfirmed",e[e.ForgotPasswordInvalidParameter=174]="ForgotPasswordInvalidParameter",e[e.ResetPassword=180]="ResetPassword",e[e.ResetPasswordCodeMismatch=181]="ResetPasswordCodeMismatch",e[e.ResetPasswordExpiredCode=182]="ResetPasswordExpiredCode",e[e.ResetPasswordInvalidPassword=183]="ResetPasswordInvalidPassword",e[e.ResetPasswordInvalidParameter=184]="ResetPasswordInvalidParameter",e[e.ResetPasswordTooManyFailedAttempts=185]="ResetPasswordTooManyFailedAttempts",e[e.ResetPasswordUserNotConfirmed=186]="ResetPasswordUserNotConfirmed",e[e.ResetPasswordUserNotFound=187]="ResetPasswordUserNotFound"}(a||(a={})),function(e){e[e.Electric=1]="Electric",e[e.Gas=2]="Gas",e[e.Dual=3]="Dual"}(o||(o={})),function(e){e[e.Pay=1]="Pay",e[e.Paid=2]="Paid",e[e.Expiring=3]="Expiring",e[e.Expired=4]="Expired"}(c||(c={})),function(e){e.Paid="Pagata",e.Expired="Scaduta"}(i||(i={})),function(e){e[e.Digital=1]="Digital",e[e.ByPost=2]="ByPost"}(u||(u={})),function(e){e[e.InProgress=1]="InProgress",e[e.Complete=10]="Complete"}(s||(s={})),function(e){e[e.Generic=1]="Generic",e[e.PerfectingRequired=2]="PerfectingRequired"}(p||(p={})),function(e){e[e.AutoReading=1]="AutoReading",e[e.ProviderReading=2]="ProviderReading"}(d||(d={})),function(e){e[e.All=0]="All",e[e.Last=1]="Last",e[e.Last3Months=2]="Last3Months",e[e.Last6Months=3]="Last6Months",e[e.LastYear=4]="LastYear"}(f||(f={})),function(e){e.Electric="light",e.Gas="gas",e.Green="green"}(l||(l={})),function(e){e[e.Welcome=1]="Welcome",e[e.Normal=2]="Normal"}(b||(b={})),function(e){e[e.Cessation=1]="Cessation",e[e.Power=2]="Power",e[e.Communication=3]="Communication",e[e.Turn=4]="Turn",e[e.Offer=5]="Offer"}(m||(m={})),function(e){e[e.Started=1]="Started",e[e.InCharge=2]="InCharge",e[e.Done=100]="Done"}(g||(g={})),function(e){e[e.Person=0]="Person",e[e.Company=1]="Company"}(h||(h={})),function(e){e.ExpiredCodeException="ExpiredCodeException",e.CodeMismatchException="CodeMismatchException",e.UserNotFoundException="UserNotFoundException",e.CodeDeliveryFailureException="CodeDeliveryFailureException",e.UserNotConfirmedException="UserNotConfirmedException",e.InvalidParameterException="InvalidParameterException",e.TooManyRequestsException="TooManyRequestsException",e.TooManyFailedAttemptsException="TooManyFailedAttemptsException",e.LimitExceededException="LimitExceededException",e.InvalidPasswordException="InvalidPasswordException"}(w||(w={})),function(e){e.Created="user_created",e.PendingMoreData="user_pending_more_data"}(v||(v={})),function(e){e.Confirmed="user_confirmed",e.AlreadyConfirmed="user_already_confirmed"}(O||(O={})),function(e){e.CodeSent="confirmation_code_sent",e.AlreadyConfirmed="user_already_confirmed"}(x||(x={})),function(e){e.CodeSent="password_recovery_code_sent"}(E||(E={})),function(e){e.PasswordChanged="password_changed"}(y||(y={}))},58:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(28);function a(){return{type:r.a,payload:null}}function o(e){return{type:r.b,payload:e}}},6:function(e,t,n){"use strict";var r=n(110);n.d(t,"ApplicationError",(function(){return r.a})),n.d(t,"isApplicationError",(function(){return r.b})),n.d(t,"toApplicationError",(function(){return r.c}));var a=n(60);n.d(t,"config",(function(){return a.a}));n(49),n(111)},60:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(71),a=n(70),o=(n(153),function(){var e=null,t=r.a.baseUrl,n=r.a.awsConfig;return{api:{vocabulary:function(){return"".concat(t,"/api/{{lng}}/labels")},register:function(){return"".concat(t,"/api/").concat(e,"/sol/user/register")},confirmUser:function(){return"".concat(t,"/api/").concat(e,"/sol/user/confirmSignUp")},resendConfirmationCode:function(){return"".concat(t,"/api/").concat(e,"/sol/user/resendConfirmationCode")},forgotPassword:function(){return"".concat(t,"/api/").concat(e,"/sol/user/forgotPassword")},confirmForgotPassword:function(){return"".concat(t,"/api/").concat(e,"/sol/user/confirmForgotPassword")},bootstrap:function(){return"".concat(t,"/api/").concat(e,"/sol/bootstrap")},home:function(){return"".concat(t,"/api/").concat(e,"/sol/home")},operations:function(){return"".concat(t,"/api/").concat(e,"/sol/operations")},bills:function(){return"".concat(t,"/api/").concat(e,"/sol/bills")},supplies:function(){return"".concat(t,"/api/").concat(e,"/sol/supplies")},consumptions:function(){return"".concat(t,"/api/").concat(e,"/sol/consumptions")},consumptionsFiltered:function(){return"".concat(t,"/api/").concat(e,"/sol/consumptions")},readingsFiltered:function(){return"".concat(t,"/api/").concat(e,"/sol/readings")},setSupply:function(){return"".concat(t,"/api/").concat(e,"/sol/supply")},customer:function(){return"".concat(t,"/api/").concat(e,"/sol/customer")},suppliesDetail:function(){return"".concat("http://localhost:3004","/api/").concat(e,"/sol/supplies-detail")}},getLanguage:function(){return e},setLanguage:function(t){a.locale(t),e=t},baseUrl:t,awsConfig:n}}())},7:function(e,t,n){"use strict";n.d(t,"u",(function(){return r})),n.d(t,"w",(function(){return a})),n.d(t,"x",(function(){return o})),n.d(t,"v",(function(){return c})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return u})),n.d(t,"k",(function(){return s})),n.d(t,"n",(function(){return p})),n.d(t,"j",(function(){return d})),n.d(t,"i",(function(){return f})),n.d(t,"l",(function(){return l})),n.d(t,"m",(function(){return b})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return h})),n.d(t,"p",(function(){return w})),n.d(t,"q",(function(){return v})),n.d(t,"o",(function(){return O})),n.d(t,"e",(function(){return x})),n.d(t,"f",(function(){return E})),n.d(t,"d",(function(){return y})),n.d(t,"s",(function(){return j})),n.d(t,"t",(function(){return C})),n.d(t,"r",(function(){return k}));var r="user",a="".concat(r,"/USER_SET"),o="".concat(r,"/USER_UNSET"),c="".concat(r,"/USER_LOAD_TOKEN"),i="".concat(r,"/LOGIN_REQUEST"),u="".concat(r,"/LOGOUT_REQUEST"),s="".concat(r,"/REGISTER_REQUEST"),p="".concat(r,"/REGISTER_SUCCESS"),d="".concat(r,"/REGISTER_PENDING_MORE_DATA"),f="".concat(r,"/REGISTER_ERROR"),l="".concat(r,"/REGISTER_RESET"),b="".concat(r,"/REGISTER_SECOND_STEP_REQUEST"),m="".concat(r,"/CONFIRM_USER_REQUEST"),g="".concat(r,"/CONFIRM_USER_SUCCESS"),h="".concat(r,"/CONFIRM_USER_ERROR"),w="".concat(r,"/RESEND_CONFIRMATION_CODE_REQUEST"),v="".concat(r,"/RESEND_CONFIRMATION_CODE_SUCCESS"),O="".concat(r,"/RESEND_CONFIRMATION_CODE_ERROR"),x="".concat(r,"/FORGOT_PASSWORD_REQUEST"),E="".concat(r,"/FORGOT_PASSWORD_SUCCESS"),y="".concat(r,"/FORGOT_PASSWORD_ERROR"),j="".concat(r,"/RESET_PASSWORD_REQUEST"),C="".concat(r,"/RESET_PASSWORD_SUCCESS"),k="".concat(r,"/RESET_PASSWORD_ERROR")},71:function(e,t,n){"use strict";t.a={baseUrl:"http://sinergas-sdc-be-dev.eba-qamzshe2.eu-central-1.elasticbeanstalk.com",awsConfig:{aws_user_pools:"enable",aws_user_pools_id:"eu-central-1_FWbYIhPAi",aws_user_pools_mfa_type:"OFF",aws_user_pools_web_client_id:"56nfmhsm0r0o3jk7hmpumfj007",aws_user_settings:"enable"}}}},[[144,8,12]]]);
//# sourceMappingURL=http://localhost:3000/static/js/../../main.js.map