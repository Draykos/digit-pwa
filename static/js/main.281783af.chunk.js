(this["webpackJsonpaimag-intranet"]=this["webpackJsonpaimag-intranet"]||[]).push([[7],{110:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return p}));var r=n(62),a=n(136),o=n(137),c=n(140),u=n(5),i=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e,a){var o;return Object(r.a)(this,n),(o=t.call(this)).id=void 0,o.message=void 0,o.text=void 0,o.toString=function(){return"(".concat(o.id,") - ").concat(o.text)},o.id=e,o.text=a,o.name="ApplicationError",o.message=o.toString(),o}return n}(Object(c.a)(Error)),s=function(e){return void 0!==e.id&&void 0!==e.text},p=function(e){return new i(u.d.Unknown,e.toString())}},111:function(e,t){},13:function(e,t,n){"use strict";t.a={home:{key:"home",url:"/",private:!0},bills:{key:"bills",url:"/bollette",private:!0},operations:{key:"operations",url:"/operazioni",private:!0},supplies:{key:"supplies",url:"/forniture",private:!0},supplyDetail:{key:"supplyDetail",url:"/forniture/:supplyId",private:!0},consumptions:{key:"consumptions",url:"/consumi",private:!0},login:{key:"login",url:"/login",private:!1},register:{key:"register",url:"/registrazione",private:!1},forgotPassword:{key:"forgot-password",url:"/recupera-password",private:!1},confirmSignup:{key:"confirm-signup",url:"/valida-email",private:!1},notFoundPage:{key:"error",url:"/error",private:!1}}},144:function(e,t,n){e.exports=n(232)},15:function(e,t,n){"use strict";var r,a,o,c;n.d(t,"d",(function(){return b})),n.d(t,"i",(function(){return m})),n.d(t,"g",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return w})),n.d(t,"a",(function(){return O})),n.d(t,"f",(function(){return x})),n.d(t,"b",(function(){return E})),n.d(t,"h",(function(){return y})),function(e){e.Electric="light",e.Gas="gas",e.Dual="dual"}(r||(r={})),function(e){e.Digital="digital"}(a||(a={})),function(e){e[e.AutoReading=1]="AutoReading",e[e.ProviderReading=2]="ProviderReading"}(o||(o={})),function(e){e[e.All=0]="All",e[e.Last=1]="Last",e[e.Last3Months=2]="Last3Months",e[e.Last6Months=3]="Last6Months",e[e.LastYear=4]="LastYear"}(c||(c={}));var u=n(5),i=n(6),s=function(e){switch(e){case r.Electric:return u.c.Electric;case r.Dual:return u.c.Dual;case r.Gas:return u.c.Gas;default:throw new i.ApplicationError(u.d.Unknown,"Unknown EnergyType (".concat(e,")"))}},p=function(e){switch(e){case a.Digital:return u.g.Digital;default:throw new i.ApplicationError(u.d.Unknown,"Unknown InvoiceType (".concat(e,")"))}},d=function(e){switch(e){case o.AutoReading:return u.l.AutoReading;case o.ProviderReading:return u.l.ProviderReading;default:throw new i.ApplicationError(u.d.Unknown,"Unknown ReadingType (".concat(e,")"))}},f=function(e){return new Date(e)},l=function(e){switch(e){case"Power":return u.f.Electric;case"Gas":return u.f.Gas;case"Green":default:return u.f.Green}};function b(e){return e.map((function(e){var t;return{layout:e.layout,iconType:l(e.icon),link:e.link,linkText:e.linkText,image:{url:null===(t=e.image)||void 0===t?void 0:t.url},title:e.title,subtitle:e.subtitle,description:e.description}}))}function m(e){return e.map((function(e){return{nickname:e.nickname,id:e.id,type:s(e.type),status:e.status,productName:e.productName,address:e.address,invoiceType:p(e.invoiceType),pod:e.pod}}))}function h(e){return e.map((function(e){return{supplyId:e.supplyId,active:e.active,meteringEndDate:e.meteringEndDate}}))}function g(e){return{customerCode:e.customerCode,fiscalCode:e.fiscalCode,name:e.name,surname:e.surname,supplies:m(e.supplies)}}function w(e){return e}function v(e){return{consumption:e.consumption,energyService:e.energyService,tvLicence:e.tvLicence,invoiceId:e.invoiceId,invoiceNumber:e.invoiceNumber,pdf:e.pdf}}function O(e){return e.map((function(e){return{type:s(e.type),pdf:e.pdf,issued:e.issued,expiration:e.expiration,supplyId:e.supplyId,paymentMode:e.paymentMode,status:e.status,amount:e.amount,info:e.info,invoice:v(e.invoice)}}))}function x(e){return e.map((function(e){return{supplyId:e.supplyId,counterId:e.counterId,counterType:e.counterType,readingType:d(e.readingType),date:f(e.date),values:e.values,maxPowers:e.maxPowers}}))}function E(e){return e.map((function(e){return{supplyId:e.supplyId,date:f(e.date),values:e.values}}))}function y(e){return{header:e.header,banners:b(e.banners),helpCenter:e.helpCenter}}},17:function(e,t,n){"use strict";n.d(t,"w",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return i})),n.d(t,"m",(function(){return s})),n.d(t,"o",(function(){return p})),n.d(t,"p",(function(){return d})),n.d(t,"l",(function(){return f})),n.d(t,"k",(function(){return l})),n.d(t,"n",(function(){return b})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return g})),n.d(t,"r",(function(){return w})),n.d(t,"s",(function(){return v})),n.d(t,"q",(function(){return O})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return E})),n.d(t,"e",(function(){return y})),n.d(t,"u",(function(){return j})),n.d(t,"v",(function(){return C})),n.d(t,"t",(function(){return k}));var r=n(7);function a(e){return{type:r.w,payload:e}}function o(){return{type:r.x,payload:null}}function c(){return{type:r.v,payload:null}}function u(e){return{type:r.g,payload:e}}function i(){return{type:r.h,payload:null}}function s(e){return{type:r.k,payload:e}}function p(e){return{type:r.m,payload:e}}function d(){return{type:r.n,payload:null}}function f(e){return{type:r.j,payload:e}}function l(e){return{type:r.i,payload:e}}function b(){return{type:r.l,payload:null}}function m(e){return{type:r.b,payload:e}}function h(){return{type:r.c,payload:null}}function g(e){return{type:r.a,payload:e}}function w(e){return{type:r.p,payload:e}}function v(e){return{type:r.q,payload:e}}function O(e){return{type:r.o,payload:e}}function x(e){return{type:r.e,payload:e}}function E(e){return{type:r.f,payload:e}}function y(e){return{type:r.d,payload:e}}function j(e){return{type:r.s,payload:e}}function C(e){return{type:r.t,payload:e}}function k(e){return{type:r.r,payload:e}}},18:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return w})),n.d(t,"c",(function(){return O})),n.d(t,"j",(function(){return E})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return k})),n.d(t,"i",(function(){return R})),n.d(t,"k",(function(){return A}));var r=n(3),a=n.n(r),o=n(19),c=n(20),u=n.n(c),i=n(6),s=n(27),p=function(){return{headers:{Authorization:"bearer ".concat(Object(s.a)())}}};function d(e){var t,n;return{status:(null===(t=e.response)||void 0===t?void 0:t.status)||500,data:(null===(n=e.response)||void 0===n?void 0:n.data)||{}}}function f(){return l.apply(this,arguments)}function l(){return(l=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.a.get(i.config.api.bootstrap()).then((function(e){return e.data})).catch((function(e){return d(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return m.apply(this,arguments)}function m(){return(m=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.a.get(i.config.api.customer(),p()).then((function(e){return e.data})).catch((function(e){return d(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return g.apply(this,arguments)}function g(){return(g=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.a.get(i.config.api.home(),p()).then((function(e){return e.data})).catch((function(e){return d(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.a.get(i.config.api.operations(),p()).then((function(e){return e.data})).catch((function(e){return d(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return x.apply(this,arguments)}function x(){return(x=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.a.get(i.config.api.bills(),p()).then((function(e){return e.data})).catch((function(e){return d(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return y.apply(this,arguments)}function y(){return(y=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.a.get(i.config.api.supplies(),p()).then((function(e){return e.data})).catch((function(e){return d(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return C.apply(this,arguments)}function C(){return(C=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.a.get(i.config.api.consumptions(),p()).then((function(e){return e.data})).catch((function(e){return d(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return P.apply(this,arguments)}function P(){return(P=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.a.post(i.config.api.consumptionsFiltered(),t,p()).then((function(e){return e.data})).catch((function(e){return d(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return S.apply(this,arguments)}function S(){return(S=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.a.post(i.config.api.readingsFiltered(),t,p()).then((function(e){return e.data})).catch((function(e){return d(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t){return _.apply(this,arguments)}function _(){return(_=Object(o.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.a.post(i.config.api.setSupply(),{supplyId:t.id,nickname:n},p()).then((function(e){return e})).catch((function(e){return d(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},232:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),o=n(55),c=n.n(o),u=n(56),i=n(36),s=n(49),p=n(27),d=n(13),f=function(e){var t=null!=Object(p.a)();return a.a.createElement(a.a.Fragment,null,t&&a.a.createElement(u.b,e),!t&&a.a.createElement(u.a,{to:d.a.login.url}))},l=n(6),b="".concat("app","/LOAD"),m="".concat("app","/LOADED"),h="".concat("app","/SET_ERROR"),g="".concat("app","/BOOTSTRAP");function w(e){var t=Object(l.isApplicationError)(e)?e:Object(l.toApplicationError)(e);return{type:h,payload:t}}var v=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(9)]).then(n.bind(null,1280))})),O=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(13)]).then(n.bind(null,1272))})),x=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(14)]).then(n.bind(null,1271))})),E=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(15)]).then(n.bind(null,1276))})),y=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(10)]).then(n.bind(null,1277))})),j=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(11)]).then(n.bind(null,1273))})),C=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(19)]).then(n.bind(null,1278))})),k=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(16)]).then(n.bind(null,1269))})),P=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(6),n.e(4),n.e(21)]).then(n.bind(null,1281))})),R=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(18)]).then(n.bind(null,1270))})),S=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(6),n.e(17)]).then(n.bind(null,1274))})),A=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(5),n.e(20)]).then(n.bind(null,1279))})),_=function(){var e=Object(i.d)();return Object(r.useEffect)((function(){e({type:b,payload:null})}),[]),a.a.createElement(u.d,null,a.a.createElement(f,{path:d.a.home.url,component:v,exact:!0}),a.a.createElement(f,{path:d.a.operations.url,component:O,exact:!0}),a.a.createElement(f,{path:d.a.bills.url,component:x,exact:!0}),a.a.createElement(f,{path:d.a.supplies.url,component:E,exact:!0}),a.a.createElement(f,{path:d.a.supplyDetail.url,component:y,exact:!0}),a.a.createElement(f,{path:d.a.consumptions.url,component:j,exact:!0}),a.a.createElement(u.b,{path:d.a.login.url,component:C}),a.a.createElement(u.b,{path:d.a.register.url,component:k}),a.a.createElement(u.b,{path:d.a.forgotPassword.url,component:R}),a.a.createElement(u.b,{path:d.a.confirmSignup.url,component:S}),a.a.createElement(u.b,{path:d.a.notFoundPage.url,component:P}),a.a.createElement(u.b,{path:"/test",component:A}),a.a.createElement(u.a,{to:d.a.notFoundPage.url}))},T=n(38),U=n(66);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F,I,N=n(26),D=n(33),M=n(122),L=n(139),G=n(21),q=n(10),H=n(15),z={error:null,footer:null,callcentre:null,news:null},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(q.a)(e,(function(e){var n=t.payload;return e.error=n,e}));case g:return Object(q.a)(e,(function(e){var n=t.payload;return e.callcentre=n.callcentre,e.news=H.d(n.news),e.footer=n.footer,e}));default:return e}},W=n(14),B=n(7),K={username:null,token:null,sessionExpired:null,registration:null,confirmation:null,resendConfirmation:null,forgotPassword:null,resetPassword:null},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B.w:return Object(q.a)(e,(function(e){var n=t.payload;return e.username=n.username,e.token=n.token,e.sessionExpired=n.sessionExpired,e}));case B.x:return Object(q.a)(e,(function(e){return e.username=null,e.token=null,e}));case B.k:return Object(q.a)(e,(function(e){return e.registration={registered:!1,pendingMoreData:!1,error:null},e}));case B.n:return Object(q.a)(e,(function(e){return e.registration={registered:!0,pendingMoreData:!1},e}));case B.j:return Object(q.a)(e,(function(e){var n=t.payload;return e.registration=Object(W.a)(Object(W.a)({},e.registration),{},{pendingMoreData:n}),e}));case B.i:return Object(q.a)(e,(function(e){var n=t.payload;return e.registration.error=n,e}));case B.l:return Object(q.a)(e,(function(e){return e.registration=null,e}));case B.b:return Object(q.a)(e,(function(e){var n=t.payload;return e.confirmation=n,e}));case B.c:return Object(q.a)(e,(function(e){var n=t.payload;return e.confirmation=n,e}));case B.a:return Object(q.a)(e,(function(e){var n=t.payload;return e.confirmation.error=n,e}));case B.p:return Object(q.a)(e,(function(e){var n=t.payload;return e.resendConfirmation={sent:!1,username:n},e}));case B.q:return Object(q.a)(e,(function(e){var n=t.payload;return e.resendConfirmation=n,e}));case B.o:return Object(q.a)(e,(function(e){var n=t.payload;return e.resendConfirmation.error=n,e}));case B.e:return Object(q.a)(e,(function(e){var n=t.payload;return e.forgotPassword={sent:!1,username:n},e}));case B.f:return Object(q.a)(e,(function(e){var n=t.payload;return e.forgotPassword=n,e}));case B.d:return Object(q.a)(e,(function(e){var n=t.payload;return e.forgotPassword.error=n,e}));case B.s:return Object(q.a)(e,(function(e){var n=t.payload;return e.resetPassword=Object(W.a)(Object(W.a)({},n),{},{changed:!1,error:null}),e}));case B.t:return Object(q.a)(e,(function(e){var n=t.payload;return e.resetPassword.changed=n,e}));case B.r:return Object(q.a)(e,(function(e){var n=t.payload;return e.resetPassword.error=n,e}));default:return e}},J="".concat("operations","/FETCH_REQUEST"),V="".concat("operations","/FETCH_SUCCESS"),$=[],X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:var n=t.payload;return n;default:return e}},Z=n(28),ee={name:null,surname:null,customerCode:null,fiscalCode:null,supplies:[]},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.b:var n=t.payload;return n;default:return e}},ne="".concat("bills","/FETCH_REQUEST"),re="".concat("bills","/FETCH_SUCCESS"),ae=[],oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:var n=t.payload;return n;default:return e}},ce="".concat("consumptions","/FETCH_REQUEST"),ue="".concat("consumptions","/FETCH_SUCCESS"),ie=[],se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:var n=t.payload;return n;default:return e}},pe="".concat("readings","/FETCH_REQUEST"),de="".concat("readings","/FETCH_SUCCESS"),fe=[],le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:var n=t.payload;return n;default:return e}},be="".concat("supplies","/FETCH_REQUEST"),me="".concat("supplies","/FETCH_SUCCESS"),he=[],ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:var n=t.payload;return n;default:return e}},we=("".concat("selfMetering","/FETCH_REQUEST"),"".concat("selfMetering","/FETCH_SUCCESS")),ve=[],Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case we:var n=t.payload;return n;default:return e}},xe=n(29),Ee={},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe.b:return Object(q.a)(e,(function(e){var n=t,r=n.route,a=n.payload;return e[r.key]={banners:a.banners,header:a.header,helpCenter:a.helpCenter},e}));default:return e}},je=n(73),Ce="".concat("events","/START_LOADING"),ke="".concat("events","/STOP_LOADING"),Pe="".concat("events","/START_REFRESHING"),Re="".concat("events","/STOP_REFRESHING"),Se={loading:[],refreshing:[]},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ce:return Object(q.a)(e,(function(e){return e.loading=[].concat(Object(je.a)(e.loading),[t.payload]),e}));case ke:return Object(q.a)(e,(function(e){return e.loading=e.loading.filter((function(e){return e!==t.payload})),e}));case Pe:return Object(q.a)(e,(function(e){return e.refreshing=[].concat(Object(je.a)(e.refreshing),[t.payload]),e}));case Re:return Object(q.a)(e,(function(e){return e.refreshing=e.refreshing.filter((function(e){return e!==t.payload})),e}));default:return e}},_e=Object(N.c)((F={},Object(G.a)(F,Z.c,te),Object(G.a)(F,"operations",X),Object(G.a)(F,"bills",oe),Object(G.a)(F,"consumptions",se),Object(G.a)(F,"readings",le),Object(G.a)(F,"supplies",ge),Object(G.a)(F,"selfMetering",Oe),F)),Te=Object(N.c)((I={},Object(G.a)(I,"app",Q),Object(G.a)(I,B.u,Y),Object(G.a)(I,xe.c,ye),Object(G.a)(I,"events",Ae),Object(G.a)(I,"data",_e),I)),Ue=n(3),Fe=n.n(Ue),Ie=n(1),Ne=n(18);function De(e){return{type:Ce,payload:e}}function Me(e){return{type:ke,payload:e}}var Le=n(5),Ge=n(30),qe=n.n(Ge),He=n(17),ze=n(58),Qe=Fe.a.mark(Je),We=Fe.a.mark(Ve),Be=Fe.a.mark($e),Ke=qe()("Aimag"),Ye=function(e){return e.root.user};function Je(){var e,t;return Fe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Ie.b)(Ne.a);case 2:if(!(e=n.sent).status){n.next=5;break}throw new l.ApplicationError(Le.d.BootstrapFailed,"Bootstrap feed not valid");case 5:return t=e,n.next=8,Object(Ie.c)({type:g,payload:t});case 8:case"end":return n.stop()}}),Qe)}function Ve(){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Ie.c)(De(b));case 3:return e.next=5,Object(Ie.b)(Je);case 5:return e.next=7,Object(Ie.d)(Ye);case 7:if(!e.sent.sessionExpired){e.next=13;break}return e.next=11,Object(Ie.a)([Object(Ie.c)(Object(He.h)()),Object(Ie.c)(Object(ze.a)())]);case 11:e.next=15;break;case 13:return e.next=15,Object(Ie.c)(Object(He.h)());case 15:return e.next=17,Object(Ie.c)({type:m,payload:null});case 17:e.next=24;break;case 19:return e.prev=19,e.t0=e.catch(0),Ke("InitApplication Error",e.t0),e.next=24,Object(Ie.c)(w(e.t0));case 24:return e.prev=24,e.next=27,Object(Ie.c)(Me(b));case 27:return e.finish(24);case 28:case"end":return e.stop()}}),We,null,[[0,19,24,28]])}function $e(){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.a)([Object(Ie.e)(b,Ve)]);case 2:case"end":return e.stop()}}),Be)}var Xe=$e,Ze=n(22),et=Fe.a.mark(at),tt=Fe.a.mark(ot),nt=qe()("Aimag"),rt=function(e){return e.root.user};function at(){var e,t;return Fe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Ie.c)(De(Z.a));case 3:return n.next=5,Object(Ie.d)(rt);case 5:if(n.sent.sessionExpired){n.next=18;break}return n.next=9,Object(Ie.b)(Ne.f);case 9:if(!(e=n.sent).status){n.next=15;break}if(401!==e.status){n.next=14;break}return n.next=14,Object(Ie.c)(Object(Ze.d)("/login"));case 14:throw new l.ApplicationError(Le.d.Api,"fetch Customer failed");case 15:return t=H.c(e),n.next=18,Object(Ie.c)(ze.b(t));case 18:n.next=26;break;case 20:return n.prev=20,n.t0=n.catch(0),nt("Error",n.t0),nt("fetchCustomer error",n.t0),n.next=26,Object(Ie.c)(w(n.t0));case 26:return n.prev=26,n.next=29,Object(Ie.c)(Me(Z.a));case 29:return n.finish(26);case 30:case"end":return n.stop()}}),et,null,[[0,20,26,30]])}function ot(){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.e)(Z.a,at);case 2:return e.next=4,Object(Ie.e)(B.w,at);case 4:case"end":return e.stop()}}),tt)}var ct=ot,ut=Fe.a.mark(st),it=Fe.a.mark(pt);function st(){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),ut)}function pt(){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.a)([Object(Ie.e)(J,st)]);case 2:case"end":return e.stop()}}),it)}var dt=pt,ft=Fe.a.mark(bt),lt=Fe.a.mark(mt);function bt(){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),ft)}function mt(){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.a)([Object(Ie.e)(ne,bt)]);case 2:case"end":return e.stop()}}),lt)}var ht=mt;function gt(e){return{type:ue,payload:e}}var wt=Fe.a.mark(Ot),vt=Fe.a.mark(xt);function Ot(e){var t,n,r,a;return Fe.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,o.next=3,Object(Ie.b)(Ne.e,t);case 3:if(!(n=o.sent).status){o.next=6;break}throw new l.ApplicationError(Le.d.Api,"fetch Consumptions Filtered failed");case 6:return r=n.consumptions,a=H.b(r),o.next=11,Object(Ie.c)(gt(a));case 11:case"end":return o.stop()}}),wt)}function xt(){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.a)([Object(Ie.e)(ce,Ot)]);case 2:case"end":return e.stop()}}),vt)}var Et=xt;function yt(e){return{type:de,payload:e}}var jt=Fe.a.mark(kt),Ct=Fe.a.mark(Pt);function kt(e){var t,n,r,a;return Fe.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,o.next=3,Object(Ie.b)(Ne.e,t);case 3:if(!(n=o.sent).status){o.next=6;break}throw new l.ApplicationError(Le.d.Api,"fetch Reading Filtered failed");case 6:return r=n.readings,a=H.f(r),o.next=11,Object(Ie.c)(yt(a));case 11:case"end":return o.stop()}}),jt)}function Pt(){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.a)([Object(Ie.e)(pe,kt)]);case 2:case"end":return e.stop()}}),Ct)}var Rt=Pt,St=Fe.a.mark(_t),At=Fe.a.mark(Tt);function _t(){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),St)}function Tt(){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.a)([Object(Ie.e)(be,_t)]);case 2:case"end":return e.stop()}}),At)}var Ut=Tt,Ft=n(19),It=n(20),Nt=n.n(It),Dt=n(234),Mt=qe()("Aimag:api");function Lt(e,t){return Gt.apply(this,arguments)}function Gt(){return(Gt=Object(Ft.a)(Fe.a.mark((function e(t,n){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){Dt.a.signIn(t,n).then((function(t){Mt("user logged in",t),e({username:t.getUsername(),token:t.signInUserSession.idToken.jwtToken,sessionExpired:!1})})).catch((function(e){if(Mt("error logging in",e),"NotAuthorizedException"!==e.code&&"UserNotConfirmedException"!==e.code)throw new Error("Api Login Error");r({id:Le.d.Login,text:e.message})}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qt(){return Ht.apply(this,arguments)}function Ht(){return(Ht=Object(Ft.a)(Fe.a.mark((function e(){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){Dt.a.signOut().then((function(){Mt("user logged out"),e()})).catch((function(e){throw Mt("error logging out",e),new Error("Api Logout Error")}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zt(e){return Qt.apply(this,arguments)}function Qt(){return(Qt=Object(Ft.a)(Fe.a.mark((function e(t){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nt.a.post(l.config.api.register(),t).then((function(e){return e.data})).catch((function(e){return Object(Ne.b)(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wt(e){return Bt.apply(this,arguments)}function Bt(){return(Bt=Object(Ft.a)(Fe.a.mark((function e(t){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nt.a.post(l.config.api.register(),t).then((function(e){return e.data})).catch((function(e){return Object(Ne.b)(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kt(e){return Yt.apply(this,arguments)}function Yt(){return(Yt=Object(Ft.a)(Fe.a.mark((function e(t){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nt.a.post(l.config.api.confirmUser(),t).then((function(e){return e.data})).catch((function(e){return Object(Ne.b)(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jt(e){return Vt.apply(this,arguments)}function Vt(){return(Vt=Object(Ft.a)(Fe.a.mark((function e(t){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nt.a.post(l.config.api.resendConfirmationCode(),{username:t}).then((function(e){return e.data})).catch((function(e){return Object(Ne.b)(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $t(e){return Xt.apply(this,arguments)}function Xt(){return(Xt=Object(Ft.a)(Fe.a.mark((function e(t){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nt.a.post(l.config.api.forgotPassword(),{username:t}).then((function(e){return e.data})).catch((function(e){return Object(Ne.b)(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zt(e){return en.apply(this,arguments)}function en(){return(en=Object(Ft.a)(Fe.a.mark((function e(t){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nt.a.post(l.config.api.confirmForgotPassword(),Object(W.a)({},t)).then((function(e){return e.data})).catch((function(e){return Object(Ne.b)(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tn=Fe.a.mark(wn),nn=Fe.a.mark(vn),rn=Fe.a.mark(On),an=Fe.a.mark(xn),on=Fe.a.mark(En),cn=Fe.a.mark(yn),un=Fe.a.mark(jn),sn=Fe.a.mark(Cn),pn=Fe.a.mark(kn),dn=Fe.a.mark(Pn),fn=Fe.a.mark(Rn),ln=qe()("Aimag:saga"),bn=function(e){var t=e.data;if(t)switch(t.code){case Le.b.ExpiredCodeException:return new l.ApplicationError(Le.d.ConfirmSignupExpiredCode,t.message);case Le.b.CodeMismatchException:return new l.ApplicationError(Le.d.ConfirmSignupCodeMismatch,t.message);case Le.b.UserNotFoundException:return new l.ApplicationError(Le.d.ConfirmSignupUserNotFound,t.message);default:return new l.ApplicationError(Le.d.ConfirmSignup,t.message)}return new l.ApplicationError(Le.d.ConfirmSignup,e.data.message)},mn=function(e){var t=e.data;if(t)switch(t.code){case Le.b.UserNotFoundException:return new l.ApplicationError(Le.d.ResendConfirmationCodeUserNotFound,t.message);case Le.b.CodeDeliveryFailureException:return new l.ApplicationError(Le.d.ResendConfirmationCodeCodeDeliveryFailure,t.message);default:return new l.ApplicationError(Le.d.ResendConfirmationCode,t.message)}return new l.ApplicationError(Le.d.ConfirmSignup,e.data.message)},hn=function(e){var t=e.data;if(t)switch(t.code){case Le.b.UserNotFoundException:return new l.ApplicationError(Le.d.ForgotPasswordUserNotFound,t.message);case Le.b.CodeDeliveryFailureException:return new l.ApplicationError(Le.d.ForgotPasswordCodeDeliveryFailure,t.message);case Le.b.UserNotConfirmedException:return new l.ApplicationError(Le.d.ForgotPasswordUserNotConfirmed,t.message);case Le.b.InvalidParameterException:return new l.ApplicationError(Le.d.ForgotPasswordInvalidParameter,t.message);default:return new l.ApplicationError(Le.d.ForgotPassword,t.message)}return new l.ApplicationError(Le.d.ForgotPassword,e.data.message)},gn=function(e){var t=e.data;if(t)switch(t.code){case Le.b.CodeMismatchException:return new l.ApplicationError(Le.d.ResetPasswordCodeMismatch,t.message);case Le.b.ExpiredCodeException:return new l.ApplicationError(Le.d.ResetPasswordExpiredCode,t.message);case Le.b.InvalidPasswordException:return new l.ApplicationError(Le.d.ResetPasswordInvalidPassword,t.message);case Le.b.UserNotFoundException:return new l.ApplicationError(Le.d.ResetPasswordUserNotFound,t.message);case Le.b.TooManyFailedAttemptsException:return new l.ApplicationError(Le.d.ResetPasswordTooManyFailedAttempts,t.message);case Le.b.UserNotConfirmedException:return new l.ApplicationError(Le.d.ResetPasswordUserNotConfirmed,t.message);case Le.b.InvalidParameterException:return new l.ApplicationError(Le.d.ResetPasswordInvalidParameter,t.message);default:return new l.ApplicationError(Le.d.ResetPassword,t.message)}return new l.ApplicationError(Le.d.ResetPassword,e.data.message)};function wn(){var e;return Fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Ie.b)(p.c);case 3:if(!(e=t.sent)){t.next=11;break}if(!e.sessionExpired){t.next=9;break}ln("loadUser","user session expired"),t.next=11;break;case 9:return t.next=11,Object(Ie.c)(He.w(e));case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(0),t.next=17,Object(Ie.c)(He.w({token:"",username:"",sessionExpired:!0}));case 17:case"end":return t.stop()}}),tn,null,[[0,13]])}function vn(){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.f(),e.next=3,null;case 3:case"end":return e.stop()}}),nn)}function On(e){var t,n,r,a;return Fe.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t=e.payload,n=t.username,r=t.password,o.next=4,Object(Ie.b)(Lt,n,r);case 4:return o.next=6,Object(Ie.b)(p.b);case 6:return a=o.sent,p.g(a.token),o.next=10,Object(Ie.c)(He.w(a));case 10:return ln("User set"),o.next=13,Object(Ie.c)(Object(Ze.d)("/"));case 13:o.next=20;break;case 15:return o.prev=15,o.t0=o.catch(0),ln("LoginRequest Error",o.t0),o.next=20,Object(Ie.c)(w(o.t0));case 20:case"end":return o.stop()}}),rn,null,[[0,15]])}function xn(e){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Ie.b)(qt);case 3:return p.f(),e.next=6,Object(Ie.c)(He.a());case 6:return e.next=8,Object(Ie.c)(Object(Ze.d)("/login"));case 8:e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(0),ln("LogoutRequest Error",e.t0),e.next=15,Object(Ie.c)(w(e.t0));case 15:case"end":return e.stop()}}),an,null,[[0,10]])}function En(e){var t,n,r;return Fe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,a.next=4,Object(Ie.c)(De(B.k));case 4:return n=p.e(t),a.next=7,Object(Ie.b)(zt,n);case 7:if(!(r=a.sent).status){a.next=13;break}if(ln("Response",r,r),!r.data||!r.data.message&&!r.data.error){a.next=12;break}throw new l.ApplicationError(Le.d.Register,r.data.message||r.data.error);case 12:throw new l.ApplicationError(Le.d.Api,"API Error: register");case 13:if(!r||r.result!==Le.q.Created){a.next=18;break}return a.next=16,Object(Ie.c)(He.p());case 16:a.next=21;break;case 18:if(!r||r.result!==Le.q.PendingMoreData){a.next=21;break}return a.next=21,Object(Ie.c)(He.l(!0));case 21:a.next=28;break;case 23:return a.prev=23,a.t0=a.catch(0),ln("RegisterRequest Error",a.t0),a.next=28,Object(Ie.c)(He.k(a.t0));case 28:return a.prev=28,a.next=31,Object(Ie.c)(Me(B.k));case 31:return a.finish(28);case 32:case"end":return a.stop()}}),on,null,[[0,23,28,32]])}function yn(e){var t,n,r;return Fe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload,a.next=4,Object(Ie.c)(De(B.m));case 4:return n=p.d(t),a.next=7,Object(Ie.b)(Wt,n);case 7:if(!(r=a.sent).status){a.next=13;break}if(ln("Response",r,r),!r.data||!r.data.message&&!r.data.error){a.next=12;break}throw new l.ApplicationError(Le.d.Register,r.data.message||r.data.error);case 12:throw new l.ApplicationError(Le.d.Api,"API Error: register second step");case 13:if(!r||r.result!==Le.q.Created){a.next=16;break}return a.next=16,Object(Ie.c)(He.p());case 16:a.next=23;break;case 18:return a.prev=18,a.t0=a.catch(0),ln("RegisterRequest Error",a.t0),a.next=23,Object(Ie.c)(He.k(a.t0));case 23:return a.prev=23,a.next=26,Object(Ie.c)(Me(B.m));case 26:return a.finish(23);case 27:case"end":return a.stop()}}),cn,null,[[0,18,23,27]])}function jn(e){var t,n;return Fe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,(t=e.payload).username&&t.confirmationCode){r.next=4;break}throw new l.ApplicationError(Le.d.ConfirmSignup,"Missing query parameters");case 4:return r.next=6,Object(Ie.c)(De(B.b));case 6:return r.next=8,Object(Ie.b)(Kt,t);case 8:if(!(n=r.sent).status){r.next=14;break}if(ln("Response",n,n),!n.data||!n.data.message&&!n.data.error){r.next=13;break}throw bn(n);case 13:throw new l.ApplicationError(Le.d.Api,"API Error: confirm user");case 14:if(!n||n.result!==Le.p.Confirmed&&n.result!==Le.p.AlreadyConfirmed){r.next=17;break}return r.next=17,Object(Ie.c)(He.d());case 17:r.next=24;break;case 19:return r.prev=19,r.t0=r.catch(0),ln("ConfirmUserRequest Error",r.t0),r.next=24,Object(Ie.c)(He.b(r.t0));case 24:return r.prev=24,r.next=27,Object(Ie.c)(Me(B.b));case 27:return r.finish(24);case 28:case"end":return r.stop()}}),un,null,[[0,19,24,28]])}function Cn(e){var t,n;return Fe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.payload,r.next=4,Object(Ie.c)(De(B.p));case 4:return r.next=6,Object(Ie.b)(Jt,t);case 6:if(!(n=r.sent).status){r.next=12;break}if(ln("Response",n,n),!n.data||!n.data.message){r.next=11;break}throw mn(n);case 11:throw new l.ApplicationError(Le.d.Api,"API Error: resend confirmation code");case 12:if(!n||n.result!==Le.m.CodeSent&&n.result!==Le.m.AlreadyConfirmed){r.next=15;break}return r.next=15,Object(Ie.c)(He.s({username:t,sent:!0}));case 15:r.next=22;break;case 17:return r.prev=17,r.t0=r.catch(0),ln("resendConfirmationCodeRequest Error",r.t0),r.next=22,Object(Ie.c)(He.q(r.t0));case 22:return r.prev=22,r.next=25,Object(Ie.c)(Me(B.p));case 25:return r.finish(22);case 26:case"end":return r.stop()}}),sn,null,[[0,17,22,26]])}function kn(e){var t,n;return Fe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.payload,r.next=4,Object(Ie.c)(De(B.e));case 4:return r.next=6,Object(Ie.b)($t,t);case 6:if(!(n=r.sent).status){r.next=12;break}if(ln("Response",n,n),!n.data||!n.data.message){r.next=11;break}throw hn(n);case 11:throw new l.ApplicationError(Le.d.Api,"API Error: forgot password");case 12:if(!n||n.result!==Le.e.CodeSent){r.next=15;break}return r.next=15,Object(Ie.c)(He.g({username:t,sent:!0}));case 15:r.next=22;break;case 17:return r.prev=17,r.t0=r.catch(0),ln("forgotPasswordRequest Error",r.t0),r.next=22,Object(Ie.c)(He.e(r.t0));case 22:return r.prev=22,r.next=25,Object(Ie.c)(Me(B.e));case 25:return r.finish(22);case 26:case"end":return r.stop()}}),pn,null,[[0,17,22,26]])}function Pn(e){var t,n;return Fe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.payload,r.next=4,Object(Ie.c)(De(B.s));case 4:return r.next=6,Object(Ie.b)(Zt,t);case 6:if(!(n=r.sent).status){r.next=12;break}if(ln("Response",n,n),!n.data||!n.data.message){r.next=11;break}throw gn(n);case 11:throw new l.ApplicationError(Le.d.Api,"API Error: reset password");case 12:if(!n||n.result!==Le.n.PasswordChanged){r.next=15;break}return r.next=15,Object(Ie.c)(He.v(!0));case 15:r.next=22;break;case 17:return r.prev=17,r.t0=r.catch(0),ln("resetPasswordRequest Error",r.t0),r.next=22,Object(Ie.c)(He.t(r.t0));case 22:return r.prev=22,r.next=25,Object(Ie.c)(Me(B.s));case 25:return r.finish(22);case 26:case"end":return r.stop()}}),dn,null,[[0,17,22,26]])}function Rn(){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.a)([Object(Ie.e)(B.v,wn),Object(Ie.e)(B.x,vn),Object(Ie.e)(B.g,On),Object(Ie.e)(B.h,xn),Object(Ie.e)(B.k,En),Object(Ie.e)(B.m,yn),Object(Ie.e)(B.b,jn),Object(Ie.e)(B.p,Cn),Object(Ie.e)(B.e,kn),Object(Ie.e)(B.s,Pn)]);case 2:case"end":return e.stop()}}),fn)}var Sn=Rn;function An(e){return{type:V,payload:e}}function _n(e){return{type:re,payload:e}}function Tn(e){return{type:me,payload:e}}function Un(e){return{type:we,payload:e}}var Fn=n(41),In=Fe.a.mark(zn),Nn=Fe.a.mark(Qn),Dn=Fe.a.mark(Wn),Mn=Fe.a.mark(Bn),Ln=Fe.a.mark(Kn),Gn=Fe.a.mark(Yn),qn=Fe.a.mark(Jn),Hn=qe()("Aimag");function zn(){var e,t,n,r,a,o,c,u;return Fe.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return e=d.a.home,i.next=3,Object(Ie.b)(Ne.g);case 3:if(!(t=i.sent).status){i.next=9;break}if(401!=t.status){i.next=8;break}return i.next=8,Object(Ie.c)(Object(Ze.d)("/login"));case 8:throw new l.ApplicationError(Le.d.Api,"fetch Home failed");case 9:return n=t.data,r=n.bills,n.supplies,a=n.selfMetering,o=H.a(r),c=H.g(a),i.next=15,Object(Ie.a)([Object(Ie.c)(_n(o)),Object(Ie.c)(Un(c))]);case 15:return u=H.h(t),i.next=18,Object(Ie.c)(Fn.b(e,u));case 18:case"end":return i.stop()}}),In)}function Qn(){var e,t,n,r,a,o,c,u,i,s;return Fe.a.wrap((function(p){for(;;)switch(p.prev=p.next){case 0:return e=d.a.operations,p.next=3,Object(Ie.b)(Ne.h);case 3:if(!(t=p.sent).status){p.next=9;break}if(401!=t.status){p.next=8;break}return p.next=8,Object(Ie.c)(Object(Ze.d)("/login"));case 8:throw new l.ApplicationError(Le.d.Api,"fetch Operations failed");case 9:return n=t.data,r=n.supplies,a=n.operations,o=n.readings,c=H.i(r),u=H.e(a),i=H.f(o),p.next=16,Object(Ie.a)([Object(Ie.c)(Tn(c)),Object(Ie.c)(An(u)),Object(Ie.c)(yt(i))]);case 16:return s=H.h(t),p.next=19,Object(Ie.c)(Fn.b(e,s));case 19:case"end":return p.stop()}}),Nn)}function Wn(){var e,t,n,r,a;return Fe.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return e=d.a.bills,o.next=3,Object(Ie.b)(Ne.c);case 3:if(!(t=o.sent).status){o.next=9;break}if(401!=t.status){o.next=8;break}return o.next=8,Object(Ie.c)(Object(Ze.d)("/login"));case 8:throw new l.ApplicationError(Le.d.Api,"fetch Bills failed");case 9:return n=t.data,r=H.a(n.bills),o.next=13,Object(Ie.c)(_n(r));case 13:return a=H.h(t),o.next=16,Object(Ie.c)(Fn.b(e,a));case 16:case"end":return o.stop()}}),Dn)}function Bn(){var e,t,n;return Fe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=d.a.supplies,r.next=3,Object(Ie.b)(Ne.j);case 3:if(!(t=r.sent).status){r.next=9;break}if(401!=t.status){r.next=8;break}return r.next=8,Object(Ie.c)(Object(Ze.d)("/login"));case 8:throw new l.ApplicationError(Le.d.Api,"fetch Supplies failed");case 9:return t.data,n=H.h(t),r.next=13,Object(Ie.c)(Fn.b(e,n));case 13:case"end":return r.stop()}}),Mn)}function Kn(){var e,t,n,r,a,o,c,u;return Fe.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return e=d.a.consumptions,i.next=3,Object(Ie.b)(Ne.d);case 3:if(!(t=i.sent).status){i.next=9;break}if(401!=t.status){i.next=8;break}return i.next=8,Object(Ie.c)(Object(Ze.d)("/login"));case 8:throw new l.ApplicationError(Le.d.Api,"fetch Consumptions failed");case 9:return n=t.data,r=n.readings,a=n.consumptions,o=H.f(r),c=H.b(a),i.next=15,Object(Ie.a)([Object(Ie.c)(yt(o)),Object(Ie.c)(gt(c))]);case 15:return u=H.h(t),i.next=18,Object(Ie.c)(Fn.b(e,u));case 18:case"end":return i.stop()}}),Ln)}function Yn(e){var t;return Fe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Ie.c)(De(xe.a));case 3:t=e.route,n.t0=t.key,n.next=n.t0===d.a.home.key?7:n.t0===d.a.operations.key?10:n.t0===d.a.bills.key?13:n.t0===d.a.supplies.key?16:n.t0===d.a.consumptions.key?19:22;break;case 7:return n.next=9,Object(Ie.b)(zn);case 9:return n.abrupt("break",23);case 10:return n.next=12,Object(Ie.b)(Qn);case 12:return n.abrupt("break",23);case 13:return n.next=15,Object(Ie.b)(Wn);case 15:return n.abrupt("break",23);case 16:return n.next=18,Object(Ie.b)(Bn);case 18:return n.abrupt("break",23);case 19:return n.next=21,Object(Ie.b)(Kn);case 21:return n.abrupt("break",23);case 22:throw new l.ApplicationError(Le.d.PageUndefined,"fetch for route key=".concat(t.key," is undefined"));case 23:n.next=31;break;case 25:return n.prev=25,n.t1=n.catch(0),Hn("Error",n.t1),Hn("fetchStepDetail error",n.t1),n.next=31,Object(Ie.c)(w(n.t1));case 31:return n.prev=31,n.next=34,Object(Ie.c)(Me(xe.a));case 34:return n.finish(31);case 35:case"end":return n.stop()}}),Gn,null,[[0,25,31,35]])}function Jn(){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.a)([Object(Ie.e)(xe.a,Yn)]);case 2:case"end":return e.stop()}}),qn)}var Vn=Jn,$n=Fe.a.mark(Xn);function Xn(){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ie.a)([Xe(),ct(),dt(),ht(),Et(),Rt(),Vn(),Ut(),Sn()]);case 2:case"end":return e.stop()}}),$n)}var Zn=Object(D.a)(),er=function(e){var t=Object(L.a)(),n=N.d,r=Object(N.c)({router:Object(T.b)(e),root:Te}),a=n(Object(N.a)(Object(M.a)(e),t)),o=Object(N.e)(r,a);return t.run(Xn),o},tr=n(69),nr=er(Zn);Object(s.a)().then((function(){l.config.setLanguage(U.a.language),tr.a.configure(l.config.awsConfig),c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(i.a,{store:nr},a.a.createElement(r.Suspense,{fallback:""},a.a.createElement(T.a,{history:Zn},a.a.createElement(_,null))))),document.getElementById("root"))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},27:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return p})),n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return m}));var r=n(14),a=n(234),o=window,c=o.localStorage,u=o.sessionStorage;function i(){return new Promise((function(e,t){a.a.currentAuthenticatedUser({bypassCache:!1}).then((function(n){var r,a=n.attributes,o=n.signInUserSession;if(o){var c=o.idToken;if(c){var u=c.payload,i=(r=u.exp,Date.now()>=1e3*r);e({token:c.getJwtToken(),username:a.name||a.email,sessionExpired:i})}}t("Missing token properties")})).catch((function(e){t(e)}))}))}function s(){return i()}function p(){var e=c.getItem("AUTH_TOKEN");return e||(e=u.getItem("AUTH_TOKEN")),e}function d(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t?c.setItem("AUTH_TOKEN",e):u.setItem("AUTH_TOKEN",e)}function f(){c.removeItem("AUTH_TOKEN"),u.removeItem("AUTH_TOKEN")}function l(){return i()}function b(e){var t={email:e.email,password:e.password,hasPendingData:!1,isCompany:e.isCompany};return e.isCompany?Object(r.a)(Object(r.a)({},t),{},{privatePerson:null,company:{vat:e.vat,businessName:e.businessName}}):Object(r.a)(Object(r.a)({},t),{},{privatePerson:{fiscalCode:e.fiscalCode},company:null})}function m(e){var t=b(e);return e.isCompany?Object(r.a)(Object(r.a)({},t),{},{hasPendingData:!0,company:Object(r.a)(Object(r.a)({},t.company),{},{contactPerson:{name:e.name,surname:e.surname,phone:e.phone}}),privatePerson:null}):Object(r.a)(Object(r.a)({},t),{},{hasPendingData:!0,privatePerson:Object(r.a)(Object(r.a)({},t.privatePerson),{},{name:e.name,surname:e.surname,phone:e.phone}),company:null})}},28:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r="customer",a="".concat(r,"/FETCH_REQUEST"),o="".concat(r,"/FETCH_SUCCESS")},29:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r="pages",a="".concat(r,"/PAGE_FETCH_REQUEST"),o="".concat(r,"/PAGE_FETCH_SUCCESS")},41:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(29);function a(e){return{type:r.a,route:e,payload:null}}function o(e,t){return{type:r.b,route:e,payload:t}}},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(66),a=n(154),o=n(138),c=n(125),u={loadPath:n(60).a.api.vocabulary(),allowMultiLoading:!1,crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"},reloadInterval:!1};function i(){return r.a.use(o.a).use(c.a).use(a.f).init({fallbackLng:"it",supportedLngs:["it"],backend:u,debug:!0,interpolation:{escapeValue:!1}})}},5:function(e,t,n){"use strict";var r,a,o,c,u,i,s,p,d,f,l,b,m,h,g,w,v,O,x,E,y;n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return p})),n.d(t,"l",(function(){return d})),n.d(t,"k",(function(){return f})),n.d(t,"f",(function(){return l})),n.d(t,"j",(function(){return b})),n.d(t,"o",(function(){return m})),n.d(t,"r",(function(){return g})),n.d(t,"b",(function(){return w})),n.d(t,"q",(function(){return v})),n.d(t,"p",(function(){return O})),n.d(t,"m",(function(){return x})),n.d(t,"e",(function(){return E})),n.d(t,"n",(function(){return y})),function(e){e[e.None=0]="None",e[e.Requesting=1]="Requesting",e[e.Success=2]="Success",e[e.Error=3]="Error"}(r||(r={})),function(e){e[e.Unknown=0]="Unknown",e[e.Api=1]="Api",e[e.Parameters=3]="Parameters",e[e.PageUndefined=4]="PageUndefined",e[e.BootstrapFailed=101]="BootstrapFailed",e[e.Login=102]="Login",e[e.Register=103]="Register",e[e.ConfirmSignup=150]="ConfirmSignup",e[e.ConfirmSignupUserNotFound=151]="ConfirmSignupUserNotFound",e[e.ConfirmSignupCodeMismatch=152]="ConfirmSignupCodeMismatch",e[e.ConfirmSignupExpiredCode=153]="ConfirmSignupExpiredCode",e[e.ResendConfirmationCode=160]="ResendConfirmationCode",e[e.ResendConfirmationCodeUserNotFound=161]="ResendConfirmationCodeUserNotFound",e[e.ResendConfirmationCodeCodeDeliveryFailure=162]="ResendConfirmationCodeCodeDeliveryFailure",e[e.ForgotPassword=170]="ForgotPassword",e[e.ForgotPasswordUserNotFound=171]="ForgotPasswordUserNotFound",e[e.ForgotPasswordCodeDeliveryFailure=172]="ForgotPasswordCodeDeliveryFailure",e[e.ForgotPasswordUserNotConfirmed=173]="ForgotPasswordUserNotConfirmed",e[e.ForgotPasswordInvalidParameter=174]="ForgotPasswordInvalidParameter",e[e.ResetPassword=180]="ResetPassword",e[e.ResetPasswordCodeMismatch=181]="ResetPasswordCodeMismatch",e[e.ResetPasswordExpiredCode=182]="ResetPasswordExpiredCode",e[e.ResetPasswordInvalidPassword=183]="ResetPasswordInvalidPassword",e[e.ResetPasswordInvalidParameter=184]="ResetPasswordInvalidParameter",e[e.ResetPasswordTooManyFailedAttempts=185]="ResetPasswordTooManyFailedAttempts",e[e.ResetPasswordUserNotConfirmed=186]="ResetPasswordUserNotConfirmed",e[e.ResetPasswordUserNotFound=187]="ResetPasswordUserNotFound"}(a||(a={})),function(e){e[e.Electric=1]="Electric",e[e.Gas=2]="Gas",e[e.Dual=3]="Dual"}(o||(o={})),function(e){e[e.Pay=1]="Pay",e[e.Paid=2]="Paid",e[e.Expiring=3]="Expiring",e[e.Expired=4]="Expired"}(c||(c={})),function(e){e.Paid="Pagata",e.Expired="Scaduta"}(u||(u={})),function(e){e[e.Digital=1]="Digital",e[e.ByPost=2]="ByPost"}(i||(i={})),function(e){e[e.InProgress=1]="InProgress",e[e.Complete=10]="Complete"}(s||(s={})),function(e){e[e.Generic=1]="Generic",e[e.PerfectingRequired=2]="PerfectingRequired"}(p||(p={})),function(e){e[e.AutoReading=1]="AutoReading",e[e.ProviderReading=2]="ProviderReading"}(d||(d={})),function(e){e[e.All=0]="All",e[e.Last=1]="Last",e[e.Last3Months=2]="Last3Months",e[e.Last6Months=3]="Last6Months",e[e.LastYear=4]="LastYear"}(f||(f={})),function(e){e.Electric="light",e.Gas="gas",e.Green="green"}(l||(l={})),function(e){e[e.Welcome=1]="Welcome",e[e.Normal=2]="Normal"}(b||(b={})),function(e){e[e.Cessation=1]="Cessation",e[e.Power=2]="Power",e[e.Communication=3]="Communication",e[e.Turn=4]="Turn",e[e.Offer=5]="Offer"}(m||(m={})),function(e){e[e.Started=1]="Started",e[e.InCharge=2]="InCharge",e[e.Done=100]="Done"}(h||(h={})),function(e){e[e.Person=0]="Person",e[e.Company=1]="Company"}(g||(g={})),function(e){e.ExpiredCodeException="ExpiredCodeException",e.CodeMismatchException="CodeMismatchException",e.UserNotFoundException="UserNotFoundException",e.CodeDeliveryFailureException="CodeDeliveryFailureException",e.UserNotConfirmedException="UserNotConfirmedException",e.InvalidParameterException="InvalidParameterException",e.TooManyRequestsException="TooManyRequestsException",e.TooManyFailedAttemptsException="TooManyFailedAttemptsException",e.LimitExceededException="LimitExceededException",e.InvalidPasswordException="InvalidPasswordException"}(w||(w={})),function(e){e.Created="user_created",e.PendingMoreData="user_pending_more_data"}(v||(v={})),function(e){e.Confirmed="user_confirmed",e.AlreadyConfirmed="user_already_confirmed"}(O||(O={})),function(e){e.CodeSent="confirmation_code_sent",e.AlreadyConfirmed="user_already_confirmed"}(x||(x={})),function(e){e.CodeSent="password_recovery_code_sent"}(E||(E={})),function(e){e.PasswordChanged="password_changed"}(y||(y={}))},58:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(28);function a(){return{type:r.a,payload:null}}function o(e){return{type:r.b,payload:e}}},6:function(e,t,n){"use strict";var r=n(110);n.d(t,"ApplicationError",(function(){return r.a})),n.d(t,"isApplicationError",(function(){return r.b})),n.d(t,"toApplicationError",(function(){return r.c}));var a=n(60);n.d(t,"config",(function(){return a.a}));n(49),n(111)},60:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(71),a=n(70),o=(n(153),function(){var e=null,t=r.a.baseUrl,n=r.a.awsConfig;return{api:{vocabulary:function(){return"".concat(t,"/api/{{lng}}/labels")},register:function(){return"".concat(t,"/api/").concat(e,"/sol/user/register")},confirmUser:function(){return"".concat(t,"/api/").concat(e,"/sol/user/confirmSignUp")},resendConfirmationCode:function(){return"".concat(t,"/api/").concat(e,"/sol/user/resendConfirmationCode")},forgotPassword:function(){return"".concat(t,"/api/").concat(e,"/sol/user/forgotPassword")},confirmForgotPassword:function(){return"".concat(t,"/api/").concat(e,"/sol/user/confirmForgotPassword")},bootstrap:function(){return"".concat(t,"/api/").concat(e,"/sol/bootstrap")},home:function(){return"".concat(t,"/api/").concat(e,"/sol/home")},operations:function(){return"".concat(t,"/api/").concat(e,"/sol/operations")},bills:function(){return"".concat(t,"/api/").concat(e,"/sol/bills")},supplies:function(){return"".concat(t,"/api/").concat(e,"/sol/supplies")},consumptions:function(){return"".concat(t,"/api/").concat(e,"/sol/consumptions")},consumptionsFiltered:function(){return"".concat(t,"/api/").concat(e,"/sol/consumptions")},readingsFiltered:function(){return"".concat(t,"/api/").concat(e,"/sol/readings")},setSupply:function(){return"".concat(t,"/api/").concat(e,"/sol/supply")},customer:function(){return"".concat(t,"/api/").concat(e,"/sol/customer")},suppliesDetail:function(){return"".concat("http://localhost:3004","/api/").concat(e,"/sol/supplies-detail")}},getLanguage:function(){return e},setLanguage:function(t){a.locale(t),e=t},baseUrl:t,awsConfig:n}}())},7:function(e,t,n){"use strict";n.d(t,"u",(function(){return r})),n.d(t,"w",(function(){return a})),n.d(t,"x",(function(){return o})),n.d(t,"v",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return i})),n.d(t,"k",(function(){return s})),n.d(t,"n",(function(){return p})),n.d(t,"j",(function(){return d})),n.d(t,"i",(function(){return f})),n.d(t,"l",(function(){return l})),n.d(t,"m",(function(){return b})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"p",(function(){return w})),n.d(t,"q",(function(){return v})),n.d(t,"o",(function(){return O})),n.d(t,"e",(function(){return x})),n.d(t,"f",(function(){return E})),n.d(t,"d",(function(){return y})),n.d(t,"s",(function(){return j})),n.d(t,"t",(function(){return C})),n.d(t,"r",(function(){return k}));var r="user",a="".concat(r,"/USER_SET"),o="".concat(r,"/USER_UNSET"),c="".concat(r,"/USER_LOAD_TOKEN"),u="".concat(r,"/LOGIN_REQUEST"),i="".concat(r,"/LOGOUT_REQUEST"),s="".concat(r,"/REGISTER_REQUEST"),p="".concat(r,"/REGISTER_SUCCESS"),d="".concat(r,"/REGISTER_PENDING_MORE_DATA"),f="".concat(r,"/REGISTER_ERROR"),l="".concat(r,"/REGISTER_RESET"),b="".concat(r,"/REGISTER_SECOND_STEP_REQUEST"),m="".concat(r,"/CONFIRM_USER_REQUEST"),h="".concat(r,"/CONFIRM_USER_SUCCESS"),g="".concat(r,"/CONFIRM_USER_ERROR"),w="".concat(r,"/RESEND_CONFIRMATION_CODE_REQUEST"),v="".concat(r,"/RESEND_CONFIRMATION_CODE_SUCCESS"),O="".concat(r,"/RESEND_CONFIRMATION_CODE_ERROR"),x="".concat(r,"/FORGOT_PASSWORD_REQUEST"),E="".concat(r,"/FORGOT_PASSWORD_SUCCESS"),y="".concat(r,"/FORGOT_PASSWORD_ERROR"),j="".concat(r,"/RESET_PASSWORD_REQUEST"),C="".concat(r,"/RESET_PASSWORD_SUCCESS"),k="".concat(r,"/RESET_PASSWORD_ERROR")},71:function(e,t,n){"use strict";t.a={baseUrl:"http://sinergas-sdc-be-dev.eba-qamzshe2.eu-central-1.elasticbeanstalk.com",awsConfig:{aws_user_pools:"enable",aws_user_pools_id:"eu-central-1_FWbYIhPAi",aws_user_pools_mfa_type:"OFF",aws_user_pools_web_client_id:"56nfmhsm0r0o3jk7hmpumfj007",aws_user_settings:"enable"}}}},[[144,8,12]]]);
//# sourceMappingURL=http://localhost:3000/static/js/../../main.js.map